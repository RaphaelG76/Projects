{"ast":null,"code":"import _slicedToArray from\"C:/Users/rapha/Documents/GitHub/SamuelBrettWilliamsWeb/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useState,useEffect}from'react';import'../styles/Biography.css';import banner_img from'../assets/biography_background.jpeg';import'../styles/Banner.css';import Authenticate from'../components/Authenticate.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Biography(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),authenticated=_useState2[0],setAuthenticated=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setData=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),pic=_useState6[0],setPic=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),des=_useState8[0],setDes=_useState8[1];var _useState9=useState(true),_useState10=_slicedToArray(_useState9,2),loading=_useState10[0],setLoading=_useState10[1];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),error=_useState12[0],setError=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),editDes=_useState14[0],setEditDes=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),editPic=_useState16[0],setEditPic=_useState16[1];var _useState17=useState(''),_useState18=_slicedToArray(_useState17,2),newDes=_useState18[0],setNewDes=_useState18[1];var _useState19=useState(''),_useState20=_slicedToArray(_useState19,2),newPic=_useState20[0],setNewPic=_useState20[1];useEffect(function(){fetch('http://localhost:3000/api/biopage').then(function(res){return res.json();}).then(function(data){setDes(data[0].bio_des);setPic(data[0].client_photo);}).catch(function(error){console.error(\"Error fetching data: \",error);setError(error);}).finally(function(){setLoading(false);});},[]);var handleEditDes=function handleEditDes(){setEditDes(true);setNewDes(des);};var handleEditPic=function handleEditPic(){setEditPic(true);setNewPic(pic);};var handleSave=function handleSave(){fetch('http://localhost:3000/api/biopage',{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify({bio_des:newDes,client_photo:newPic})}).then(function(){setDes(newDes);setPic(newPic);setEditDes(false);setEditPic(false);}).catch(function(error){console.error('Error updating bio_des/client_photo: ',error);});};if(loading)return/*#__PURE__*/_jsx(\"div\",{className:\"page\",children:\"Loading...\"});if(error)return/*#__PURE__*/_jsx(\"div\",{className:\"page\",children:\"Error!\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"page\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"banner-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"banner-name\",children:/*#__PURE__*/_jsx(\"div\",{className:\"banner\",children:\"BIOGRAPHY\"})}),/*#__PURE__*/_jsx(\"img\",{className:\"bannerImg\",src:banner_img})]}),/*#__PURE__*/_jsx(\"div\",{className:\"page-container\",children:editPic||editDes?/*#__PURE__*/_jsxs(\"div\",{className:\"bioBody\",children:[editPic&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"pic\",children:\"Client Photo URL:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"pic\",value:newPic,onChange:function onChange(e){return setNewPic(e.target.value);}})]}),editDes&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"des\",children:\"Bio Description:\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"des\",value:newDes,onChange:function onChange(e){return setNewDes(e.target.value);}})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSave,children:\"Save\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"bioBody\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"bioImg\",src:pic}),/*#__PURE__*/_jsx(\"span\",{className:\"bio-span\",children:des}),/*#__PURE__*/_jsx(Authenticate,{setAuthen:setAuthenticated}),authenticated?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleEditPic,children:\"Edit Client Photo\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleEditDes,children:\"Edit Bio Description\"})]}):null]})})]});}function checkViewportWidth(){var width=window.innerWidth;var container=document.querySelector('.container');if(width<768){container.classList.add('mobile');container.classList.remove('tablet','desktop');}else if(width<992){container.classList.add('tablet');container.classList.remove('mobile','desktop');}else{container.classList.add('desktop');container.classList.remove('mobile','tablet');}}window.addEventListener('resize',checkViewportWidth);checkViewportWidth();","map":{"version":3,"names":["React","useState","useEffect","banner_img","Authenticate","Biography","authenticated","setAuthenticated","data","setData","pic","setPic","des","setDes","loading","setLoading","error","setError","editDes","setEditDes","editPic","setEditPic","newDes","setNewDes","newPic","setNewPic","fetch","then","res","json","bio_des","client_photo","catch","console","finally","handleEditDes","handleEditPic","handleSave","method","headers","body","JSON","stringify","e","target","value","checkViewportWidth","width","window","innerWidth","container","document","querySelector","classList","add","remove","addEventListener"],"sources":["C:/Users/rapha/Documents/GitHub/SamuelBrettWilliamsWeb/frontend/src/pages/Biography.js"],"sourcesContent":["import React from 'react'\r\nimport { useState, useEffect } from 'react'\r\nimport '../styles/Biography.css'\r\nimport banner_img from '../assets/biography_background.jpeg'\r\nimport '../styles/Banner.css'\r\nimport Authenticate from '../components/Authenticate.js';\r\n\r\nexport default function Biography() {\r\n  const [authenticated, setAuthenticated] = useState();\r\n  const [data, setData] = useState(null);\r\n  const [pic, setPic] = useState();\r\n  const [des, setDes] = useState();\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [editDes, setEditDes] = useState(false);\r\n  const [editPic, setEditPic] = useState(false);\r\n  const [newDes, setNewDes] = useState('');\r\n  const [newPic, setNewPic] = useState('');\r\n\r\n  useEffect(() => {\r\n    fetch('http://localhost:3000/api/biopage')\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        setDes(data[0].bio_des);\r\n        setPic(data[0].client_photo);\r\n      })\r\n      .catch(error => {\r\n        console.error(\"Error fetching data: \", error);\r\n        setError(error);\r\n      })\r\n      .finally(() => {\r\n        setLoading(false);\r\n      })\r\n  }, [])\r\n\r\n  const handleEditDes = () => {\r\n    setEditDes(true);\r\n    setNewDes(des);\r\n  };\r\n\r\n  const handleEditPic = () => {\r\n    setEditPic(true);\r\n    setNewPic(pic);\r\n  };\r\n\r\n  const handleSave = () => {\r\n    fetch('http://localhost:3000/api/biopage', {\r\n      method: 'PUT',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ bio_des: newDes, client_photo: newPic }),\r\n    })\r\n      .then(() => {\r\n        setDes(newDes);\r\n        setPic(newPic);\r\n        setEditDes(false);\r\n        setEditPic(false);\r\n      })\r\n      .catch((error) => {\r\n        console.error('Error updating bio_des/client_photo: ', error);\r\n      });\r\n  };\r\n\r\n  if (loading) return <div className=\"page\">Loading...</div>;\r\n  if (error) return <div className=\"page\">Error!</div>;\r\n\r\n  return (\r\n    <div className=\"page\">\r\n      <div className='banner-container'>\r\n        <div className='banner-name'>\r\n          <div className=\"banner\">BIOGRAPHY</div>\r\n        </div>\r\n        <img className=\"bannerImg\" src={banner_img} />\r\n      </div>\r\n      <div className='page-container'>\r\n        {editPic || editDes ? (\r\n          <div className=\"bioBody\">\r\n            {editPic && (\r\n              <div>\r\n                <label htmlFor=\"pic\">Client Photo URL:</label>\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"pic\"\r\n                  value={newPic}\r\n                  onChange={(e) => setNewPic(e.target.value)}\r\n                />\r\n              </div>\r\n            )}\r\n            {editDes && (\r\n              <div>\r\n                <label htmlFor=\"des\">Bio Description:</label>\r\n                <textarea\r\n                  id=\"des\"\r\n                  value={newDes}\r\n                  onChange={(e) => setNewDes(e.target.value)}\r\n                ></textarea>\r\n              </div>\r\n            )}\r\n            <button onClick={handleSave}>Save</button>\r\n          </div>\r\n        ) : (\r\n          <div className=\"bioBody\">\r\n            <img className=\"bioImg\" src={pic} />\r\n            <span className='bio-span'>{des}</span>\r\n            <Authenticate setAuthen={setAuthenticated}/>\r\n              {authenticated ? (\r\n            <div>\r\n              <button onClick={handleEditPic}>Edit Client Photo</button>\r\n              <button onClick={handleEditDes}>Edit Bio Description</button>\r\n            </div>\r\n            ) : (null)}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction checkViewportWidth() {\r\n  const width = window.innerWidth;\r\n  const container = document.querySelector('.container');\r\n\r\n  if (width < 768) {\r\n    container.classList.add('mobile');\r\n    container.classList.remove('tablet', 'desktop');\r\n  } else if (width < 992) {\r\n    container.classList.add('tablet');\r\n    container.classList.remove('mobile', 'desktop');\r\n  } else {\r\n    container.classList.add('desktop');\r\n    container.classList.remove('mobile', 'tablet');\r\n  }\r\n}\r\n\r\nwindow.addEventListener('resize', checkViewportWidth);\r\ncheckViewportWidth();"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}