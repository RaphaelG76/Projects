{"ast":null,"code":"import _slicedToArray from\"C:/Users/rapha/Documents/GitHub/SamuelBrettWilliamsWeb/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import placeholder from'../assets/placeholder.png';import'../styles/Play.css';import{Link}from'react-router-dom';import{useState,useEffect}from'react';import Authenticate from'../components/Authenticate.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Play(props){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),pic=_useState4[0],setPic=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),showConfirm=_useState10[0],setShowConfirm=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),authenticated=_useState12[0],setAuthenticated=_useState12[1];var title=encodeURIComponent(props.title);useEffect(function(){fetch(\"http://localhost:3000/api/plays?search=\".concat(title)).then(function(res){return res.json();}).then(function(data){setPic(data[0].play_photo);}).catch(function(error){console.error(\"Error fetching data: \",error);setError(error);}).finally(function(){setLoading(false);});},[]);var handleDelete=function handleDelete(){fetch(\"http://localhost:3000/api/feature/delete/play?id=\".concat(props.id)).then(function(response){return response.json();}).catch(function(error){console.error(error);return alert('Error: Could not delete feature!');});window.location.reload();};var handleConfirm=function handleConfirm(){setShowConfirm(false);handleDelete();};var handleCancel=function handleCancel(){setShowConfirm(false);};if(loading)return/*#__PURE__*/_jsx(\"div\",{className:\"page\",children:\"Loading...\"});if(error)return/*#__PURE__*/_jsx(\"div\",{className:\"page\",children:\"Error!\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"play\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Link,{to:\"/playdetails/\".concat(props.title),state:{title:props.title,cover:props.photo,writer:props.writer,photos:props.still_photos,duration:props.type_play,synopsis:props.description,production:props.productions,development:props.development,videos:props.videos,buy_links:props.buy_links},children:[/*#__PURE__*/_jsx(\"img\",{className:\"playImg\",src:placeholder}),\" \"]})}),/*#__PURE__*/_jsxs(\"span\",{className:\"playTitle\",children:[\" \",props.title,\" \"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"playDuration\",children:[\" \",props.type_play,\" \"]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Authenticate,{setAuthen:setAuthenticated}),authenticated?/*#__PURE__*/_jsx(\"button\",{className:\"delete-feature\",onClick:function onClick(){return setShowConfirm(true);},children:\"Delete\"}):null,showConfirm&&/*#__PURE__*/_jsx(\"div\",{className:\"popup\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-inner-playsAdd\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"popup-header\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Are you sure you want to delete this feature?\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-deleteFeature\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"confirm-buttons\",onClick:handleConfirm,children:\"Yes\"}),/*#__PURE__*/_jsx(\"button\",{className:\"confirm-buttons\",onClick:handleCancel,children:\"No\"})]})})]})})]})]});}export default Play;","map":{"version":3,"names":["React","placeholder","Link","useState","useEffect","Authenticate","Play","props","data","setData","pic","setPic","loading","setLoading","error","setError","showConfirm","setShowConfirm","authenticated","setAuthenticated","title","encodeURIComponent","fetch","then","res","json","play_photo","catch","console","finally","handleDelete","id","response","alert","window","location","reload","handleConfirm","handleCancel","cover","photo","writer","photos","still_photos","duration","type_play","synopsis","description","production","productions","development","videos","buy_links"],"sources":["C:/Users/rapha/Documents/GitHub/SamuelBrettWilliamsWeb/frontend/src/components/Play.js"],"sourcesContent":["import React from 'react'\r\nimport placeholder from '../assets/placeholder.png'\r\nimport '../styles/Play.css'\r\nimport { Link } from 'react-router-dom'\r\nimport { useState, useEffect } from 'react'\r\nimport Authenticate from '../components/Authenticate.js';\r\n\r\nfunction Play(props) {\r\n\r\n  const [data, setData] = useState(null);\r\n  const [pic, setPic] = useState();\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [showConfirm, setShowConfirm] = useState(false);\r\n  const [authenticated, setAuthenticated] = useState();\r\n\r\n  const title = encodeURIComponent(props.title);\r\n\r\n  useEffect(() => {\r\n    fetch(`http://localhost:3000/api/plays?search=${title}`)\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        setPic(data[0].play_photo)\r\n      })\r\n      .catch(error => {\r\n        console.error(\"Error fetching data: \", error);\r\n        setError(error);\r\n      })\r\n      .finally(() => {\r\n        setLoading(false);\r\n      })\r\n  }, [])\r\n\r\n  const handleDelete = () => {\r\n    fetch(`http://localhost:3000/api/feature/delete/play?id=${props.id}`)\r\n      .then(response => response.json())\r\n      .catch(error => {\r\n        console.error(error);\r\n        return alert('Error: Could not delete feature!');\r\n      });\r\n    window.location.reload();\r\n  };\r\n\r\n  const handleConfirm = () => {\r\n    setShowConfirm(false);\r\n    handleDelete();\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setShowConfirm(false);\r\n  };\r\n\r\n  if (loading) return <div className=\"page\">Loading...</div>;\r\n  if (error) return <div className=\"page\">Error!</div>;\r\n\r\n  return (\r\n\r\n    <div className=\"play\">\r\n      <div>\r\n        <Link to={`/playdetails/${props.title}`} state={{\r\n          title: props.title,\r\n          cover: props.photo,\r\n          writer: props.writer,\r\n          photos: props.still_photos,\r\n          duration: props.type_play,\r\n          synopsis: props.description,\r\n          production: props.productions,\r\n          development: props.development,\r\n          videos: props.videos,\r\n          buy_links: props.buy_links,\r\n        }} ><img className=\"playImg\" src={placeholder} /> </Link>\r\n      </div>\r\n      <span className=\"playTitle\"> {props.title} </span>\r\n      <span className=\"playDuration\"> {props.type_play} </span>\r\n      <div>\r\n      <Authenticate setAuthen={setAuthenticated}/>\r\n              {authenticated ? (\r\n            <button className=\"delete-feature\" onClick={() => setShowConfirm(true)}>Delete</button>\r\n            ) : (null)}\r\n            {showConfirm && (\r\n              <div className = \"popup\">\r\n                <div className = \"popup-inner-playsAdd\">\r\n                  <div className=\"popup-header\">\r\n                    <h2>Are you sure you want to delete this feature?</h2>\r\n                  </div>\r\n                  <div className=\"popup-content\">\r\n                    <div className=\"popup-deleteFeature\">\r\n                      <button className=\"confirm-buttons\" onClick={handleConfirm}>Yes</button>\r\n                      <button className=\"confirm-buttons\" onClick={handleCancel}>No</button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\nexport default Play"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}