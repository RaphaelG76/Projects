{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/rapha/Documents/GitHub/SamuelBrettWilliamsWeb/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/rapha/Documents/GitHub/SamuelBrettWilliamsWeb/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/rapha/Documents/GitHub/SamuelBrettWilliamsWeb/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import'../styles/FilmDetails.css';import{useParams,useLocation}from'react-router-dom';import{useEffect,useState}from'react';import Popup from'../components/Popup';import Video from'../components/Video';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faAngleLeft,faAngleRight,faXmark}from'@fortawesome/free-solid-svg-icons';import PlusIcon from'../assets/add-icon.png';import Photo from'../components/Photo';import{useRef}from'react';import Authenticate from'../components/Authenticate.js';import VideoAddPopup from'../components/VideoAddPopup.js';import PhotoAddPopup from'../components/PhotoAddPopup.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function FilmDetails(){var stateParamVal=useLocation().state;var _useState=useState(),_useState2=_slicedToArray(_useState,2),authenticated=_useState2[0],setAuthenticated=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isEditingTitle=_useState4[0],setIsEditingTitle=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isEditingDetails=_useState6[0],setIsEditingDetails=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),addLinkTrigger=_useState8[0],setAddLinkTrigger=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),addVideoTrigger=_useState10[0],setAddVideoTrigger=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),addPhotoTrigger=_useState12[0],setAddPhotoTrigger=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),updateCoverTrigger=_useState14[0],setUpdateCoverTrigger=_useState14[1];var _useState15=useState(stateParamVal.cover),_useState16=_slicedToArray(_useState15,2),cover=_useState16[0],setCover=_useState16[1];var _useState17=useState(''),_useState18=_slicedToArray(_useState17,2),newTitle=_useState18[0],setNewTitle=_useState18[1];var _useState19=useState(stateParamVal.director),_useState20=_slicedToArray(_useState19,2),director=_useState20[0],setDirector=_useState20[1];var _useState21=useState(stateParamVal.writer),_useState22=_slicedToArray(_useState21,2),writer=_useState22[0],setWriter=_useState22[1];var _useState23=useState(stateParamVal.stars),_useState24=_slicedToArray(_useState23,2),stars=_useState24[0],setStars=_useState24[1];var _useState25=useState(stateParamVal.status),_useState26=_slicedToArray(_useState25,2),status=_useState26[0],setStatus=_useState26[1];var _useState27=useState(stateParamVal.synopsis),_useState28=_slicedToArray(_useState27,2),desc=_useState28[0],setDesc=_useState28[1];var _useState29=useState(''),_useState30=_slicedToArray(_useState29,2),buyLink=_useState30[0],setBuyLink=_useState30[1];var _useState31=useState(''),_useState32=_slicedToArray(_useState31,2),buyLinkImg=_useState32[0],setBuyLinkImg=_useState32[1];var _useState33=useState(false),_useState34=_slicedToArray(_useState33,2),showConfirmBuyLink=_useState34[0],setShowConfirmBuyLink=_useState34[1];var _useState35=useState(''),_useState36=_slicedToArray(_useState35,2),posterUrl=_useState36[0],setPosterUrl=_useState36[1];var _useState37=useState(null),_useState38=_slicedToArray(_useState37,2),selectedFile=_useState38[0],setSelectedFile=_useState38[1];var _useState39=useState(false),_useState40=_slicedToArray(_useState39,2),loading=_useState40[0],setLoading=_useState40[1];var abortControllerRef=useRef(null);var _useState41=useState(false),_useState42=_slicedToArray(_useState41,2),buttonPopup=_useState42[0],setButtonPopup=_useState42[1];var _useState43=useState(''),_useState44=_slicedToArray(_useState43,2),popupUrl=_useState44[0],setPopupUrl=_useState44[1];var toggleLinkTrigger=function toggleLinkTrigger(){setAddLinkTrigger(!addLinkTrigger);};var toggleUpdateCoverTrigger=function toggleUpdateCoverTrigger(){setUpdateCoverTrigger(!updateCoverTrigger);};var scrollElementVid=useRef(null);var scrollElementPhoto=useRef(null);var scrollRight=function scrollRight(reelRef){reelRef.current.scrollLeft=reelRef.current.scrollLeft+1290;};var scrollLeft=function scrollLeft(reelRef){reelRef.current.scrollLeft=reelRef.current.scrollLeft-1290;};function handleConfirmBuyLink(buyLinkId){setShowConfirmBuyLink(false);handleDeleteBuyLink(buyLinkId);};function handleDeleteBuyLink(buyLinkId){fetch(\"http://localhost:3000/api/delete/buyLink?id=\".concat(buyLinkId)).then(function(response){return response.json();}).then(function(data){window.location.replace(\"http://localhost:3000/#/films\");return alert(\"Buy link successfully deleted. Change can be viewed on the films's detail page.\");}).catch(function(error){console.error(error);return alert('Error: Could not delete buyLink!');});};var reversedPhotos=stateParamVal.photos.reverse();var photoReel=reversedPhotos.map(function(item){return/*#__PURE__*/_jsx(Photo,{photo:item.photo});});var reversedVids=stateParamVal.videos.reverse();var videoReel=reversedVids.map(function(item){// later data will be equal to the state variable that accepted the api data from the fetch request\nreturn/*#__PURE__*/_jsx(Video,{setButtonPopup:setButtonPopup,setUrl:setPopupUrl,url:item.video,id:item.id,type:'film'});});var buy_links=stateParamVal.buy_links.map(function(item){return/*#__PURE__*/_jsxs(\"div\",{className:\"filmlink\",children:[/*#__PURE__*/_jsx(\"a\",{href:item.link,children:/*#__PURE__*/_jsx(\"img\",{src:item.link_photo})}),authenticated?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"delete-buyLink\",onClick:function onClick(){return setShowConfirmBuyLink(true);},children:\"Delete\"}),showConfirmBuyLink&&/*#__PURE__*/_jsx(\"div\",{className:\"popup\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-inner-upcomingAdd\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"popup-header\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Are you sure you want to delete this buy link?\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-deleteFeature\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"confirm-buttons\",onClick:function onClick(){return handleConfirmBuyLink(item.id);},children:\"Yes\"}),/*#__PURE__*/_jsx(\"button\",{className:\"confirm-buttons\",onClick:function onClick(){return setShowConfirmBuyLink(false);},children:\"No\"})]})})]})})]}):null]});});var handleEditTitle=function handleEditTitle(){setIsEditingTitle(true);setNewTitle(stateParamVal.title);};var handleEditDetails=function handleEditDetails(){setIsEditingDetails(true);};var handleTitleSave=function handleTitleSave(event){event.preventDefault();if(newTitle===\"\"){return alert('Please enter a new title for the film.');}fetch('http://localhost:3000/api/films/edit/title',{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify({title:stateParamVal.title,newTitle:newTitle})}).then(function(response){return response.json();}).then(function(data){setIsEditingTitle(false);console.log('Success:',data);window.location.replace(\"http://localhost:3000/#/films\");return alert(\"Film title updated successfully. This change is now viewable on the films page and on the detail page for the specific film.\");}).catch(function(error){console.error('Error:',error);return alert('Error: Film title could not be updated!');});};var handleDetailsSave=function handleDetailsSave(event){event.preventDefault();fetch('http://localhost:3000/api/films/edit/details',{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify({title:stateParamVal.title,newDirector:director,newWriter:writer,newStars:stars,newStatus:status,newDesc:desc})}).then(function(response){return response.json();}).then(function(data){setIsEditingDetails(false);console.log('Success:',data);}).catch(function(error){console.error('Error:',error);return alert('Error: Film details could not be updated!');});};var handleTitleCancel=function handleTitleCancel(){setIsEditingTitle(false);};var handleDetailsCancel=function handleDetailsCancel(){setIsEditingDetails(false);};var handleBuyLinkSubmit=function handleBuyLinkSubmit(event){event.preventDefault();if(buyLink===\"\"){return alert('Please enter a buy link.');}else if(buyLinkImg===\"\"){return alert('Please enter the URL of the buy link logo image');}fetch('http://localhost:3000/api/films/add/buy_link',{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify({title:stateParamVal.title,newBuyLink:buyLink,newBuyLinkImg:buyLinkImg})}).then(function(response){return response.json();}).then(function(data){setAddLinkTrigger(false);console.log('Success:',data);window.location.replace(\"http://localhost:3000/#/films\");return alert('Buy link was successfully added to the film. It is now viewable in the details page.');}).catch(function(error){console.error('Error:',error);return alert('Error: Buy link could not be added!');});};var handlePosterUrlSubmit=function handlePosterUrlSubmit(event){event.preventDefault();if(posterUrl===\"\"){return alert('Please enter a poster link.');}fetch('http://localhost:3000/api/films/photo',{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify({photo:posterUrl,title:stateParamVal.title})}).then(function(response){return response.json();}).then(function(data){setCover(posterUrl);setPosterUrl('');setUpdateCoverTrigger(!updateCoverTrigger);console.log('Success:',data);return alert('Poster URL updated successfully!');}).catch(function(error){console.error('Error:',error);return alert('Error: Poster URL could not be updated!');});};var handlePosterFileSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var formData,abortController;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();if(selectedFile){_context.next=3;break;}return _context.abrupt(\"return\",alert('Please upload a video.'));case 3:formData=new FormData();formData.append('files',selectedFile);abortController=new AbortController();abortControllerRef.current=abortController;setLoading(true);fetch('http://localhost:3000/api/upload/files',{method:'POST',body:formData,signal:abortController.signal}).then(function(response){return response.json();}).then(function(data){fetch('http://localhost:3000/api/films/photo',{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify({photo:data[0],title:stateParamVal.title})}).then(function(response){return response.json();}).then(function(data){console.log(data.photo);setLoading(false);setCover(data.photo);setUpdateCoverTrigger(!updateCoverTrigger);console.log('Success:',data);return alert('Poster uploaded and updated successfully!');}).catch(function(error){console.error('Error:',error);return alert('Error: Poster could not be updated!');});}).catch(function(error){console.error('Error:',error);setLoading(false);return alert('Error: File could not be uploaded!');});case 9:case\"end\":return _context.stop();}},_callee);}));return function handlePosterFileSubmit(_x){return _ref.apply(this,arguments);};}();var handleCancelUpload=function handleCancelUpload(){if(abortControllerRef.current){abortControllerRef.current.abort();}};return/*#__PURE__*/_jsxs(\"div\",{className:\"page\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"filmDetails\",children:[/*#__PURE__*/_jsx(Authenticate,{setAuthen:setAuthenticated}),/*#__PURE__*/_jsxs(\"div\",{className:\"left\",children:[/*#__PURE__*/_jsx(\"img\",{src:cover,className:\"filmCoverImg\"}),authenticated?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"editContent\",children:/*#__PURE__*/_jsx(\"button\",{className:\"buttonPosterEdit\",onClick:function onClick(){return toggleUpdateCoverTrigger();},children:\"EDIT POSTER\"})}),updateCoverTrigger&&/*#__PURE__*/_jsx(\"div\",{className:\"popup\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-inner-upcomingAdd\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"close-btn\",onClick:function onClick(){return toggleUpdateCoverTrigger();},children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faXmark,size:\"xl\"}),\" \"]}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-header\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"ENTER THE FILMS'S POSTER URL\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"popup-content\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"poster-url\",children:\"Enter poster URL:\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handlePosterUrlSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"poster-url\",name:\"poster-url\",value:posterUrl,placeholder:\"Enter the URL of the film's poster\",onChange:function onChange(e){return setPosterUrl(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:\"button-submitUpcoming\",type:\"submit\",disabled:loading,children:\"Submit\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-header\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"OR UPLOAD A POSTER\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"popup-content\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"files\",children:\"Select a file to upload:\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handlePosterFileSubmit,children:[/*#__PURE__*/_jsx(\"input\",{className:\"upload-content\",type:\"file\",id:\"files\",onChange:function onChange(e){return setSelectedFile(e.target.files[0]);}}),/*#__PURE__*/_jsx(\"button\",{className:\"button-submitUpcoming\",type:\"submit\",disabled:loading,children:\"Upload\"}),loading&&/*#__PURE__*/_jsx(\"div\",{className:\"popup\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-inner-upcomingAdd\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"popup-header\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Uploading file...\"})}),/*#__PURE__*/_jsx(\"label\",{children:\"This may take a while\"}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-content\",children:/*#__PURE__*/_jsx(\"div\",{className:\"loader\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"cancel-upload\",onClick:handleCancelUpload,children:\"Cancel\"})]})})]})]})]})})]}):null]}),/*#__PURE__*/_jsx(\"div\",{className:\"right\",children:authenticated?/*#__PURE__*/_jsx(\"div\",{children:isEditingTitle||isEditingDetails||addLinkTrigger?/*#__PURE__*/_jsxs(\"div\",{children:[isEditingTitle&&/*#__PURE__*/_jsxs(\"div\",{className:\"editContent\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"titleUpdate\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newTitle,onChange:function onChange(e){return setNewTitle(e.target.value);}}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttonTitleUpdate\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleTitleSave,children:\"SAVE\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleTitleCancel,children:\"CANCEL\"})]})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"director\",children:[\" Director: \",director,\" \"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"writer\",children:[\" Screenplay: \",writer,\" \"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"stars\",children:[\" Stars: \",stars,\" \"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"status\",children:[\" Status: \",status,\" \"]}),/*#__PURE__*/_jsx(\"span\",{className:\"film_avaliable\",children:\"Avaliable On:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"film_links\",children:buy_links}),/*#__PURE__*/_jsxs(\"p\",{className:\"filmSynopsis\",children:[\" \",desc,\" \"]})]}),isEditingDetails&&/*#__PURE__*/_jsxs(\"div\",{className:\"editContent\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"filmsTitle\",children:stateParamVal.title}),/*#__PURE__*/_jsxs(\"span\",{className:\"director\",children:[\" Director:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:director,onChange:function onChange(e){return setDirector(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"writer\",children:[\" Screenplay:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:writer,onChange:function onChange(e){return setWriter(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"textarea-container\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"film-stars\",children:\" Stars: \"}),/*#__PURE__*/_jsx(\"textarea\",{type:\"text\",value:stars,onChange:function onChange(e){return setStars(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"status\",children:[\" Status:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:status,onChange:function onChange(e){return setStatus(e.target.value);}})]}),/*#__PURE__*/_jsx(\"span\",{className:\"film_avaliable\",children:\"Avaliable On:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"film_links\",children:buy_links}),/*#__PURE__*/_jsx(\"p\",{className:\"filmSynopsis\",children:/*#__PURE__*/_jsx(\"textarea\",{type:\"text\",id:\"film-desc\",name:\"film-desc\",value:desc,onChange:function onChange(e){return setDesc(e.target.value);}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttonDetailsUpdate\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleDetailsSave,children:\"SAVE\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDetailsCancel,children:\"CANCEL\"})]})]}),addLinkTrigger&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"popup\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-inner-upcomingAdd\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"close-btn\",onClick:function onClick(){return toggleLinkTrigger();},children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faXmark,size:\"xl\"}),\" \"]}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-header\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"CREATE A NEW BUY LINK\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-content\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleBuyLinkSubmit,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"buy-link\",children:\"Enter the film's buy link:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"buy-link\",name:\"buy-link\",value:buyLink,placeholder:\"Enter the link where you can buy the film\",onChange:function onChange(e){return setBuyLink(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"buy-link-image\",children:\"Enter the URL of the link's logo:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"buy-link-image\",name:\"buy-link-image\",value:buyLinkImg,placeholder:\"Enter the URL of the buy link's logo image\",onChange:function onChange(e){return setBuyLinkImg(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:\"button-submitUpcoming\",type:\"submit\",children:\"Submit\"})]})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"editContent\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"filmsTitle\",children:stateParamVal.title}),/*#__PURE__*/_jsxs(\"span\",{className:\"director\",children:[\" Director: \",director,\" \"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"writer\",children:[\" Screenplay: \",writer,\" \"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"stars\",children:[\" Stars: \",stars,\" \"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"status\",children:[\" Status: \",status,\" \"]}),/*#__PURE__*/_jsx(\"span\",{className:\"film_avaliable\",children:\"Avaliable On:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"film_links\",children:buy_links}),/*#__PURE__*/_jsxs(\"p\",{className:\"filmSynopsis\",children:[\" \",desc,\" \"]})]})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"editContent\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"titleEdit\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"filmsTitle\",children:stateParamVal.title}),/*#__PURE__*/_jsx(\"button\",{className:\"buttonTitle\",onClick:handleEditTitle,children:\"EDIT TITLE\"})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"director\",children:[\" Director: \",director,\" \"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"writer\",children:[\" Screenplay: \",writer,\" \"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"stars\",children:[\" Stars: \",stars,\" \"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"status\",children:[\" Status: \",status,\" \"]}),/*#__PURE__*/_jsx(\"span\",{className:\"film_avaliable\",children:\"Avaliable On:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"film_links\",children:[buy_links,/*#__PURE__*/_jsx(\"div\",{className:\"imgContainer\",children:/*#__PURE__*/_jsx(\"div\",{className:\"blank-add-buyLink\",children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return toggleLinkTrigger();},children:/*#__PURE__*/_jsx(\"img\",{src:PlusIcon})})})})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"filmSynopsis\",children:[\" \",desc,\" \"]}),/*#__PURE__*/_jsx(\"button\",{className:\"buttonDetailsEdit\",onClick:handleEditDetails,children:\"EDIT DETAILS\"})]})}):/*#__PURE__*/_jsxs(\"div\",{className:\"editContent\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"filmsTitle\",children:stateParamVal.title}),/*#__PURE__*/_jsxs(\"span\",{className:\"director\",children:[\" Director:  \",stateParamVal.director,\" \"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"writer\",children:[\" Screenplay: \",stateParamVal.writer,\" \"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"stars\",children:[\" Stars: \",stateParamVal.stars,\" \"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"status\",children:[\" Status: \",stateParamVal.status,\" \"]}),/*#__PURE__*/_jsx(\"span\",{className:\"film_avaliable\",children:\"Avaliable On:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"film_links\",children:buy_links}),/*#__PURE__*/_jsxs(\"p\",{className:\"filmSynopsis\",children:[\" \",stateParamVal.synopsis,\" \"]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filmReel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"filmTopReel\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"filmVideoReelText\",children:\"VIDEOS\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"arrows\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faAngleLeft,size:\"lg\",style:{marginRight:'18px'},onClick:function onClick(){return scrollLeft(scrollElementVid);}}),/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faAngleRight,size:\"lg\",onClick:function onClick(){return scrollRight(scrollElementVid);}})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"vidReel\",ref:scrollElementVid,children:[authenticated?/*#__PURE__*/_jsx(\"div\",{className:\"imgContainer-videos\",children:/*#__PURE__*/_jsx(\"div\",{className:\"blank-add-video\",children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){return setAddVideoTrigger(!addVideoTrigger);},children:/*#__PURE__*/_jsx(\"img\",{src:PlusIcon})})})}):null,videoReel]})]}),authenticated?/*#__PURE__*/_jsx(VideoAddPopup,{addVideoTrigger:addVideoTrigger,setAddVideoTrigger:setAddVideoTrigger,stateParamValVideos:stateParamVal.videos.reverse(),stateParamValTitle:stateParamVal.title,type:'film'}):null,/*#__PURE__*/_jsx(Popup,{url:popupUrl,trigger:buttonPopup,setTrigger:setButtonPopup}),/*#__PURE__*/_jsxs(\"div\",{className:\"filmReel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"filmTopReel\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"filmPhotoReelText\",children:\"PHOTOS\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"arrows\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faAngleLeft,size:\"lg\",style:{marginRight:'18px'},onClick:function onClick(){return scrollLeft(scrollElementPhoto);}}),/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faAngleRight,size:\"lg\",onClick:function onClick(){return scrollRight(scrollElementPhoto);}})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"photoReel\",ref:scrollElementPhoto,children:[authenticated?/*#__PURE__*/_jsx(\"div\",{className:\"imgContainer-photos\",children:/*#__PURE__*/_jsx(\"div\",{className:\"blank-add-photo\",children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){return setAddPhotoTrigger(!addPhotoTrigger);},children:/*#__PURE__*/_jsx(\"img\",{src:PlusIcon})})})}):null,photoReel]})]}),authenticated?/*#__PURE__*/_jsx(PhotoAddPopup,{addPhotoTrigger:addPhotoTrigger,setAddPhotoTrigger:setAddPhotoTrigger,stateParamValPhotos:stateParamVal.photos.reverse(),stateParamValTitle:stateParamVal.title,type:'film'}):null]});}export default FilmDetails;","map":{"version":3,"names":["React","useParams","useLocation","useEffect","useState","Popup","Video","FontAwesomeIcon","faAngleLeft","faAngleRight","faXmark","PlusIcon","Photo","useRef","Authenticate","VideoAddPopup","PhotoAddPopup","FilmDetails","stateParamVal","state","authenticated","setAuthenticated","isEditingTitle","setIsEditingTitle","isEditingDetails","setIsEditingDetails","addLinkTrigger","setAddLinkTrigger","addVideoTrigger","setAddVideoTrigger","addPhotoTrigger","setAddPhotoTrigger","updateCoverTrigger","setUpdateCoverTrigger","cover","setCover","newTitle","setNewTitle","director","setDirector","writer","setWriter","stars","setStars","status","setStatus","synopsis","desc","setDesc","buyLink","setBuyLink","buyLinkImg","setBuyLinkImg","showConfirmBuyLink","setShowConfirmBuyLink","posterUrl","setPosterUrl","selectedFile","setSelectedFile","loading","setLoading","abortControllerRef","buttonPopup","setButtonPopup","popupUrl","setPopupUrl","toggleLinkTrigger","toggleUpdateCoverTrigger","scrollElementVid","scrollElementPhoto","scrollRight","reelRef","current","scrollLeft","handleConfirmBuyLink","buyLinkId","handleDeleteBuyLink","fetch","then","response","json","data","window","location","replace","alert","catch","error","console","reversedPhotos","photos","reverse","photoReel","map","item","photo","reversedVids","videos","videoReel","video","id","buy_links","link","link_photo","handleEditTitle","title","handleEditDetails","handleTitleSave","event","preventDefault","method","headers","body","JSON","stringify","log","handleDetailsSave","newDirector","newWriter","newStars","newStatus","newDesc","handleTitleCancel","handleDetailsCancel","handleBuyLinkSubmit","newBuyLink","newBuyLinkImg","handlePosterUrlSubmit","handlePosterFileSubmit","formData","FormData","append","abortController","AbortController","signal","handleCancelUpload","abort","e","target","value","files","marginRight"],"sources":["C:/Users/rapha/Documents/GitHub/SamuelBrettWilliamsWeb/frontend/src/pages/FilmDetails.js"],"sourcesContent":["import React from 'react'\r\nimport '../styles/FilmDetails.css'\r\nimport {useParams,useLocation} from 'react-router-dom'\r\nimport {useEffect, useState} from 'react'\r\nimport Popup from '../components/Popup'\r\nimport Video from '../components/Video'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faAngleLeft, faAngleRight, faXmark } from '@fortawesome/free-solid-svg-icons'\r\nimport PlusIcon from '../assets/add-icon.png';\r\nimport Photo from '../components/Photo'\r\nimport {useRef} from 'react'\r\nimport Authenticate from '../components/Authenticate.js';\r\nimport VideoAddPopup from '../components/VideoAddPopup.js';\r\nimport PhotoAddPopup from '../components/PhotoAddPopup.js';\r\n\r\nfunction FilmDetails() {\r\n  const stateParamVal = useLocation().state;\r\n  const [authenticated, setAuthenticated] = useState();\r\n  const [isEditingTitle, setIsEditingTitle] = useState(false);\r\n  const [isEditingDetails, setIsEditingDetails] = useState(false);\r\n  const [addLinkTrigger, setAddLinkTrigger] = useState(false);\r\n  const [addVideoTrigger, setAddVideoTrigger] = useState(false);\r\n  const [addPhotoTrigger, setAddPhotoTrigger] = useState(false);\r\n  const [updateCoverTrigger, setUpdateCoverTrigger] = useState(false);\r\n  const [cover, setCover] = useState(stateParamVal.cover);\r\n  const [newTitle, setNewTitle] = useState('');\r\n  const [director, setDirector] = useState(stateParamVal.director);\r\n  const [writer, setWriter] = useState(stateParamVal.writer);\r\n  const [stars, setStars] = useState(stateParamVal.stars);\r\n  const [status, setStatus] = useState(stateParamVal.status);\r\n  const [desc, setDesc] = useState(stateParamVal.synopsis);\r\n  const [buyLink, setBuyLink] = useState('');\r\n  const [buyLinkImg, setBuyLinkImg] = useState('');\r\n  const [showConfirmBuyLink, setShowConfirmBuyLink] = useState(false);\r\n  const [posterUrl, setPosterUrl] = useState('');\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const abortControllerRef = useRef(null);\r\n\r\n  const [buttonPopup, setButtonPopup] = useState(false);\r\n  const [popupUrl, setPopupUrl] = useState('')\r\n\r\n  const toggleLinkTrigger = () => {\r\n    setAddLinkTrigger(!addLinkTrigger);\r\n  }\r\n\r\n  const toggleUpdateCoverTrigger = () => {\r\n    setUpdateCoverTrigger(!updateCoverTrigger);\r\n  }\r\n\r\n  const scrollElementVid = useRef(null);\r\n  const scrollElementPhoto = useRef(null);\r\n\r\n  const scrollRight = (reelRef) =>{\r\n    reelRef.current.scrollLeft = \r\n    reelRef.current.scrollLeft + 1290\r\n  }\r\n\r\n  const scrollLeft = (reelRef) =>{\r\n    reelRef.current.scrollLeft = \r\n    reelRef.current.scrollLeft - 1290\r\n  }\r\n\r\n  function handleConfirmBuyLink(buyLinkId) {\r\n    setShowConfirmBuyLink(false);\r\n    handleDeleteBuyLink(buyLinkId);\r\n  };\r\n\r\n  function handleDeleteBuyLink(buyLinkId) {\r\n    fetch(`http://localhost:3000/api/delete/buyLink?id=${buyLinkId}`)\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        window.location.replace(\"http://localhost:3000/#/films\");\r\n        return alert(\"Buy link successfully deleted. Change can be viewed on the films's detail page.\")\r\n      })\r\n      .catch(error => {\r\n        console.error(error);\r\n        return alert('Error: Could not delete buyLink!');\r\n      });\r\n  };\r\n\r\n  const reversedPhotos = stateParamVal.photos.reverse();\r\n  const photoReel = reversedPhotos.map(item => {\r\n    return(\r\n      <Photo\r\n        photo = {item.photo}\r\n      />\r\n    )\r\n  })\r\n\r\n  const reversedVids = stateParamVal.videos.reverse();\r\n  const videoReel = reversedVids.map(item => {   // later data will be equal to the state variable that accepted the api data from the fetch request\r\n    return(\r\n      <Video\r\n          setButtonPopup = {setButtonPopup}\r\n          setUrl = {setPopupUrl}\r\n          url = {item.video}\r\n          id = {item.id}\r\n          type = {'film'}\r\n      />\r\n    )\r\n  })\r\n\r\n  const buy_links = stateParamVal.buy_links.map(item => {\r\n    return(\r\n      <div className='filmlink'>\r\n        <a href={item.link}>\r\n          <img src={item.link_photo} />\r\n        </a>\r\n        {authenticated ? (\r\n          <div>\r\n            <button className=\"delete-buyLink\" onClick={() => setShowConfirmBuyLink(true)}>Delete</button>\r\n            {showConfirmBuyLink && (\r\n              <div className = \"popup\">\r\n                <div className = \"popup-inner-upcomingAdd\">\r\n                  <div className=\"popup-header\">\r\n                    <h2>Are you sure you want to delete this buy link?</h2>\r\n                  </div>\r\n                  <div className=\"popup-content\">\r\n                    <div className=\"popup-deleteFeature\">\r\n                      <button className=\"confirm-buttons\" onClick={() => handleConfirmBuyLink(item.id)}>Yes</button>\r\n                      <button className=\"confirm-buttons\" onClick={() => setShowConfirmBuyLink(false)}>No</button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        ) : (null)}\r\n      </div>\r\n    )\r\n  })\r\n\r\n  const handleEditTitle = () => {\r\n    setIsEditingTitle(true);\r\n    setNewTitle(stateParamVal.title);\r\n  }\r\n\r\n  const handleEditDetails = () => {\r\n    setIsEditingDetails(true);\r\n  }\r\n\r\n  const handleTitleSave = (event) => {\r\n    event.preventDefault();\r\n\r\n    if (newTitle === \"\") {\r\n        return alert('Please enter a new title for the film.');\r\n    }\r\n\r\n    fetch('http://localhost:3000/api/films/edit/title', {\r\n        method: 'PUT',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n            title: stateParamVal.title, \r\n            newTitle: newTitle\r\n        })\r\n    })\r\n    .then(response => response.json())\r\n    .then(data => {\r\n        setIsEditingTitle(false);\r\n        console.log('Success:', data);\r\n        window.location.replace(\"http://localhost:3000/#/films\");\r\n        return alert(\"Film title updated successfully. This change is now viewable on the films page and on the detail page for the specific film.\");\r\n    })\r\n    .catch(error => {\r\n        console.error('Error:', error);\r\n        return alert('Error: Film title could not be updated!');\r\n    });\r\n  }\r\n\r\n  const handleDetailsSave = (event) => {\r\n    event.preventDefault();\r\n\r\n    fetch('http://localhost:3000/api/films/edit/details', {\r\n        method: 'PUT',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n            title: stateParamVal.title,\r\n            newDirector: director,\r\n            newWriter: writer,\r\n            newStars: stars,\r\n            newStatus: status,\r\n            newDesc: desc\r\n        })\r\n    })\r\n    .then(response => response.json())\r\n    .then(data => {\r\n        setIsEditingDetails(false);\r\n        console.log('Success:', data);\r\n    })\r\n    .catch(error => {\r\n        console.error('Error:', error);\r\n        return alert('Error: Film details could not be updated!');\r\n    });\r\n  }\r\n\r\n  const handleTitleCancel = () => {\r\n    setIsEditingTitle(false);\r\n  }\r\n\r\n  const handleDetailsCancel = () => {\r\n    setIsEditingDetails(false);\r\n  }\r\n\r\n  const handleBuyLinkSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    if (buyLink === \"\") {\r\n      return alert('Please enter a buy link.');\r\n    } else if (buyLinkImg === \"\") {\r\n      return alert('Please enter the URL of the buy link logo image');\r\n    }\r\n\r\n    fetch('http://localhost:3000/api/films/add/buy_link', {\r\n        method: 'PUT',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n            title: stateParamVal.title, \r\n            newBuyLink: buyLink,\r\n            newBuyLinkImg: buyLinkImg\r\n        })\r\n    })\r\n    .then(response => response.json())\r\n    .then(data => {\r\n        setAddLinkTrigger(false);\r\n        console.log('Success:', data);\r\n        window.location.replace(\"http://localhost:3000/#/films\");\r\n        return alert('Buy link was successfully added to the film. It is now viewable in the details page.')\r\n    })\r\n    .catch(error => {\r\n        console.error('Error:', error);\r\n        return alert('Error: Buy link could not be added!');\r\n    });\r\n  }\r\n\r\n  const handlePosterUrlSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    if (posterUrl === \"\") {\r\n        return alert('Please enter a poster link.');\r\n    }\r\n\r\n    fetch('http://localhost:3000/api/films/photo', {\r\n        method: 'PUT',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n            photo: posterUrl,\r\n            title: stateParamVal.title\r\n        })\r\n    })\r\n    .then(response => response.json())\r\n    .then(data => {\r\n        setCover(posterUrl);\r\n        setPosterUrl('');\r\n        setUpdateCoverTrigger(!updateCoverTrigger);\r\n        console.log('Success:', data);\r\n        return alert('Poster URL updated successfully!');\r\n    })\r\n    .catch(error => {\r\n        console.error('Error:', error);\r\n        return alert('Error: Poster URL could not be updated!');\r\n    });\r\n  }\r\n\r\n  const handlePosterFileSubmit = async (event) => {\r\n    event.preventDefault();\r\n    if (!selectedFile) {\r\n      return alert('Please upload a video.');\r\n    }\r\n\r\n    const formData = new FormData();\r\n    formData.append('files', selectedFile);\r\n\r\n    const abortController = new AbortController();\r\n    abortControllerRef.current = abortController;\r\n\r\n    setLoading(true);\r\n    fetch('http://localhost:3000/api/upload/files', {\r\n        method: 'POST',\r\n        body: formData,\r\n        signal: abortController.signal\r\n    })\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      fetch('http://localhost:3000/api/films/photo', {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        photo: data[0],\r\n        title: stateParamVal.title\r\n      })\r\n    })\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        console.log(data.photo);\r\n        setLoading(false);\r\n        setCover(data.photo);\r\n        setUpdateCoverTrigger(!updateCoverTrigger);\r\n        console.log('Success:', data);\r\n        return alert('Poster uploaded and updated successfully!');\r\n      })\r\n      .catch(error => {\r\n        console.error('Error:', error);\r\n        return alert('Error: Poster could not be updated!');\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.error('Error:', error);\r\n      setLoading(false);\r\n      return alert('Error: File could not be uploaded!');\r\n    });\r\n  };\r\n\r\n  const handleCancelUpload = () => {\r\n      if (abortControllerRef.current) {\r\n        abortControllerRef.current.abort();\r\n      }\r\n  };\r\n\r\n  return (\r\n    <div className = 'page'>\r\n      <div className = 'filmDetails'>\r\n      <Authenticate setAuthen={setAuthenticated}/>\r\n        <div className = 'left'>\r\n          <img src={cover} className = 'filmCoverImg' />\r\n          {authenticated ? (\r\n            <div>\r\n              <div className='editContent'>\r\n                <button className='buttonPosterEdit' onClick={() => toggleUpdateCoverTrigger()}>EDIT POSTER</button>\r\n              </div>\r\n              {updateCoverTrigger && (\r\n                  <div className = \"popup\">\r\n                    <div className = \"popup-inner-upcomingAdd\">\r\n                        <button className = \"close-btn\" onClick ={() => toggleUpdateCoverTrigger()} >{<FontAwesomeIcon icon={faXmark} size=\"xl\" />} </button>\r\n                        <div className=\"popup-header\">\r\n                            <h2>ENTER THE FILMS'S POSTER URL</h2>\r\n                        </div>\r\n                        <div className=\"popup-content\">\r\n                            <label htmlFor=\"poster-url\">Enter poster URL:</label>\r\n                            <form onSubmit={handlePosterUrlSubmit}>\r\n                                <input type=\"text\" id=\"poster-url\" name=\"poster-url\" value={posterUrl} placeholder=\"Enter the URL of the film's poster\" onChange={(e) => setPosterUrl(e.target.value)} />\r\n                                <button className=\"button-submitUpcoming\" type=\"submit\" disabled={loading}>Submit</button>\r\n                            </form>\r\n                        </div>\r\n                        <div className=\"popup-header\">\r\n                            <h2>OR UPLOAD A POSTER</h2>\r\n                        </div>\r\n                        <div className=\"popup-content\">\r\n                            <label htmlFor=\"files\">Select a file to upload:</label>\r\n                            <form onSubmit={handlePosterFileSubmit}>\r\n                                <input className=\"upload-content\" type=\"file\" id=\"files\" onChange={(e) => setSelectedFile(e.target.files[0])} />\r\n                                <button className=\"button-submitUpcoming\" type=\"submit\" disabled={loading}>Upload</button>\r\n                                {loading && \r\n                                    <div className = \"popup\">\r\n                                        <div className = \"popup-inner-upcomingAdd\">\r\n                                            <div className=\"popup-header\">\r\n                                                <h2>Uploading file...</h2>\r\n                                            </div>\r\n                                            <label>This may take a while</label>\r\n                                            <div className=\"popup-content\">\r\n                                                <div className=\"loader\"></div>\r\n                                            </div>\r\n                                            <button className=\"cancel-upload\" onClick={handleCancelUpload}>Cancel</button>\r\n                                        </div>\r\n                                    </div>\r\n                                }\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          ) : (null)}\r\n        </div>\r\n\r\n        <div className = 'right'>\r\n          {authenticated ? (\r\n              <div>\r\n                {isEditingTitle || isEditingDetails || addLinkTrigger ? (\r\n                  <div>\r\n                    {isEditingTitle && (\r\n                      <div className='editContent'>\r\n                        <div className='titleUpdate'>\r\n                          <input type=\"text\" value={newTitle} onChange={(e) => setNewTitle(e.target.value)} />\r\n                          <div className='buttonTitleUpdate'>\r\n                            <button onClick={handleTitleSave}>SAVE</button>\r\n                            <button onClick={handleTitleCancel}>CANCEL</button>\r\n                          </div>\r\n                        </div>\r\n                        \r\n                        <span className = 'director'> Director: {director} </span>\r\n                        <span className = 'writer'> Screenplay: {writer} </span>\r\n                        <span className = 'stars'> Stars: {stars} </span>\r\n                        <span className = 'status'> Status: {status} </span>\r\n                        <span className='film_avaliable'>Avaliable On:</span>\r\n                        <div className='film_links'>\r\n                          {buy_links}\r\n                        </div>\r\n                        <p className = 'filmSynopsis'> {desc} </p>\r\n                      </div>\r\n                    )}\r\n                    {isEditingDetails && (\r\n                      <div className='editContent'>\r\n                        <h1 className = 'filmsTitle'>{stateParamVal.title}</h1>\r\n\r\n                        <span className = \"director\"> Director:\r\n                          <input type=\"text\" value={director} onChange={(e) => setDirector(e.target.value)} />\r\n                        </span>\r\n\r\n                        <span className = \"writer\"> Screenplay:\r\n                          <input type=\"text\" value={writer} onChange={(e) => setWriter(e.target.value)} />\r\n                        </span>\r\n\r\n                        <div className='textarea-container'>\r\n                          <span className = 'film-stars'> Stars: </span>\r\n                          <textarea type=\"text\" value={stars} onChange={(e) => setStars(e.target.value)} />\r\n                        </div>\r\n\r\n                        <span className = \"status\"> Status:\r\n                          <input type=\"text\" value={status} onChange={(e) => setStatus(e.target.value)} />\r\n                        </span>\r\n\r\n                        <span className='film_avaliable'>Avaliable On:</span>\r\n                        <div className='film_links'>\r\n                          {buy_links}\r\n                        </div>\r\n\r\n                        <p className = 'filmSynopsis'>\r\n                          <textarea type=\"text\" id=\"film-desc\" name=\"film-desc\" value={desc} onChange={(e) => setDesc(e.target.value)} />\r\n                        </p>\r\n\r\n                        <div className='buttonDetailsUpdate'>\r\n                            <button onClick={handleDetailsSave}>SAVE</button>\r\n                            <button onClick={handleDetailsCancel}>CANCEL</button>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                    {addLinkTrigger && (\r\n                      <div>\r\n                        <div className = \"popup\">\r\n                          <div className = \"popup-inner-upcomingAdd\">\r\n                              <button className = \"close-btn\" onClick ={() => toggleLinkTrigger()} >{<FontAwesomeIcon icon={faXmark} size=\"xl\" />} </button>\r\n                              <div className=\"popup-header\">\r\n                                  <h2>CREATE A NEW BUY LINK</h2>\r\n                              </div>\r\n                              <div className=\"popup-content\">\r\n                                  <form onSubmit={handleBuyLinkSubmit}>\r\n                                      <label htmlFor=\"buy-link\">Enter the film's buy link:</label>\r\n                                      <input type=\"text\" id=\"buy-link\" name=\"buy-link\" value={buyLink} placeholder=\"Enter the link where you can buy the film\" onChange={(e) => setBuyLink(e.target.value)} />\r\n                                      \r\n                                      <label htmlFor=\"buy-link-image\">Enter the URL of the link's logo:</label>\r\n                                      <input type=\"text\" id=\"buy-link-image\" name=\"buy-link-image\" value={buyLinkImg} placeholder=\"Enter the URL of the buy link's logo image\" onChange={(e) => setBuyLinkImg(e.target.value)} />\r\n                                      <button className=\"button-submitUpcoming\" type=\"submit\" >Submit</button>\r\n                                  </form>\r\n                              </div>\r\n                          </div>\r\n                        </div>\r\n                        <div className='editContent'>\r\n                          <h1 className = 'filmsTitle'>{stateParamVal.title}</h1>\r\n                          <span className = 'director'> Director: {director} </span>\r\n                          <span className = 'writer'> Screenplay: {writer} </span>\r\n                          <span className = 'stars'> Stars: {stars} </span>\r\n                          <span className = 'status'> Status: {status} </span>\r\n                          <span className='film_avaliable'>Avaliable On:</span>\r\n                          <div className='film_links'>\r\n                            {buy_links}\r\n                          </div>\r\n                          <p className = 'filmSynopsis'> {desc} </p>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                ) : (\r\n                  <div className='editContent'>\r\n                    <div className='titleEdit'>\r\n                      <h1 className = 'filmsTitle'>{stateParamVal.title}</h1>\r\n                      <button className='buttonTitle' onClick={handleEditTitle}>EDIT TITLE</button>\r\n                    </div>\r\n\r\n                    <span className = 'director'> Director: {director} </span>\r\n                    <span className = 'writer'> Screenplay: {writer} </span>\r\n                    <span className = 'stars'> Stars: {stars} </span>\r\n                    <span className = 'status'> Status: {status} </span>\r\n                    <span className='film_avaliable'>Avaliable On:</span>\r\n                    <div className='film_links'>\r\n                      {buy_links}\r\n                      <div className=\"imgContainer\">\r\n                        <div className=\"blank-add-buyLink\">\r\n                          <button onClick={() => toggleLinkTrigger()}>\r\n                            <img src = {PlusIcon}></img></button>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <p className = 'filmSynopsis'> {desc} </p>\r\n                    \r\n                    <button className='buttonDetailsEdit' onClick={handleEditDetails}>EDIT DETAILS</button>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ) : (\r\n              <div className='editContent'>\r\n              <h1 className = 'filmsTitle'>{stateParamVal.title}</h1>\r\n              \r\n              <span className = \"director\"> Director:  {stateParamVal.director} </span>\r\n              <span className = 'writer'> Screenplay: {stateParamVal.writer} </span>\r\n              <span className = 'stars'> Stars: {stateParamVal.stars} </span>\r\n              <span className = 'status'> Status: {stateParamVal.status} </span>\r\n              <span className='film_avaliable'>Avaliable On:</span>\r\n              <div className='film_links'>\r\n                {buy_links}\r\n              </div>\r\n              <p className = 'filmSynopsis'> {stateParamVal.synopsis} </p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <div className = 'filmReel'>\r\n        <div className = 'filmTopReel'>\r\n          <div className = 'filmVideoReelText'>VIDEOS</div>\r\n          <div className = 'arrows'>\r\n            <FontAwesomeIcon icon={faAngleLeft} size=\"lg\" style={{ marginRight: '18px' }} onClick = {() => scrollLeft(scrollElementVid)}/>\r\n            <FontAwesomeIcon icon={faAngleRight} size=\"lg\" onClick = {() => scrollRight(scrollElementVid)}/>\r\n          </div>\r\n        </div>\r\n        <div className = 'vidReel' ref = {scrollElementVid}>\r\n          {authenticated ? (\r\n            <div className=\"imgContainer-videos\">\r\n              <div className=\"blank-add-video\">\r\n                <button onClick={(e) => setAddVideoTrigger(!addVideoTrigger)}>\r\n                <img src = {PlusIcon}></img></button>\r\n              </div>\r\n            </div>\r\n          ) : (null)}\r\n          {videoReel}\r\n        </div>\r\n      </div>\r\n\r\n      {authenticated ? (\r\n        <VideoAddPopup addVideoTrigger={addVideoTrigger}  setAddVideoTrigger={setAddVideoTrigger} stateParamValVideos={stateParamVal.videos.reverse()} stateParamValTitle={stateParamVal.title} type={'film'}></VideoAddPopup>\r\n      ) : (null)}\r\n\r\n      <Popup url = {popupUrl} trigger = {buttonPopup}  setTrigger = {setButtonPopup} ></Popup>\r\n\r\n      <div className = 'filmReel'>\r\n        <div className = 'filmTopReel'>\r\n          <div className = 'filmPhotoReelText'>PHOTOS</div>\r\n          <div className = 'arrows'>\r\n            <FontAwesomeIcon icon={faAngleLeft} size=\"lg\" style={{ marginRight: '18px' }} onClick = {() => scrollLeft(scrollElementPhoto)}/>\r\n            <FontAwesomeIcon icon={faAngleRight} size=\"lg\" onClick = {() => scrollRight(scrollElementPhoto)}/>\r\n          </div>\r\n        </div>\r\n        <div className = 'photoReel' ref = {scrollElementPhoto}>\r\n          {authenticated ? (\r\n            <div className=\"imgContainer-photos\">\r\n              <div className=\"blank-add-photo\">\r\n                <button onClick={(e) => setAddPhotoTrigger(!addPhotoTrigger)}>\r\n                <img src = {PlusIcon}></img></button>\r\n              </div>\r\n            </div>\r\n          ) : (null)}\r\n          {photoReel}\r\n        </div>\r\n      </div> \r\n\r\n      {authenticated ? (\r\n        <PhotoAddPopup addPhotoTrigger={addPhotoTrigger}  setAddPhotoTrigger={setAddPhotoTrigger} stateParamValPhotos={stateParamVal.photos.reverse()} stateParamValTitle={stateParamVal.title} type={'film'}></PhotoAddPopup>\r\n      ) : (null)}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default FilmDetails"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}