{"ast":null,"code":"import _slicedToArray from\"C:/Users/rapha/Documents/GitHub/SamuelBrettWilliamsWeb/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import'../styles/Video.css';import blank from'../assets/blank.jpg';import ReactPlayer from'react-player';import Authenticate from'../components/Authenticate.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Video(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showConfirm=_useState2[0],setShowConfirm=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),authenticated=_useState4[0],setAuthenticated=_useState4[1];function popupBtn(){props.setButtonPopup(true);props.setUrl(props.url);}function handleDelete(videoId){fetch(\"http://localhost:3000/api/delete/video?id=\".concat(videoId)).then(function(response){return response.json();}).then(function(data){window.location.replace(\"http://localhost:3000/#/\".concat(props.type,\"s\"));return alert(\"Video successfully deleted. Change can be viewed on the \".concat(props.type,\"'s detail page.\"));}).catch(function(error){console.error(error);return alert('Error: Could not delete video!');});};function handleConfirm(videoId){setShowConfirm(false);handleDelete(videoId);};var config={file:{attributes:{controlsList:'nodownload'// disables download button for some browsers\n}},// disables right-click context menu on video\ndisableContextMenu:true};return/*#__PURE__*/_jsxs(\"div\",{className:\"video\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"imgContainer-video\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"blank\",style:{backgroundColor:'#240f0e'}}),/*#__PURE__*/_jsx(ReactPlayer,{className:\"react-player\",url:props.url,width:\"100%\",height:\"100%\",fluid:false,playing:false,controls:false,muted:true,config:config,style:{pointerEvents:'none'}}),/*#__PURE__*/_jsx(\"button\",{className:\"playButton\",onClick:function onClick(){return popupBtn();}})]}),/*#__PURE__*/_jsx(Authenticate,{setAuthen:setAuthenticated}),authenticated?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"delete-video\",onClick:function onClick(){return setShowConfirm(true);},children:\"Delete\"}),showConfirm&&/*#__PURE__*/_jsx(\"div\",{className:\"popup\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-inner-upcomingAdd\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"popup-header\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Are you sure you want to delete this video?\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-deleteFeature\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"confirm-buttons\",onClick:function onClick(){return handleConfirm(props.id);},children:\"Yes\"}),/*#__PURE__*/_jsx(\"button\",{className:\"confirm-buttons\",onClick:function onClick(){return setShowConfirm(false);},children:\"No\"})]})})]})})]}):null]});}export default Video;","map":{"version":3,"names":["React","useState","useEffect","blank","ReactPlayer","Authenticate","Video","props","showConfirm","setShowConfirm","authenticated","setAuthenticated","popupBtn","setButtonPopup","setUrl","url","handleDelete","videoId","fetch","then","response","json","data","window","location","replace","type","alert","catch","error","console","handleConfirm","config","file","attributes","controlsList","disableContextMenu","backgroundColor","pointerEvents","id"],"sources":["C:/Users/rapha/Documents/GitHub/SamuelBrettWilliamsWeb/frontend/src/components/Video.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport '../styles/Video.css'\r\nimport blank from '../assets/blank.jpg'\r\nimport ReactPlayer from 'react-player'\r\nimport Authenticate from '../components/Authenticate.js';\r\n\r\nfunction Video(props) {\r\n  const [showConfirm, setShowConfirm] = useState(false);\r\n  const [authenticated, setAuthenticated] = useState(false);\r\n\r\n  function popupBtn(){\r\n    props.setButtonPopup(true);\r\n    props.setUrl(props.url);\r\n  }\r\n\r\n  function handleDelete(videoId) {\r\n    fetch(`http://localhost:3000/api/delete/video?id=${videoId}`)\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        window.location.replace(`http://localhost:3000/#/${props.type}s`);\r\n        return alert(`Video successfully deleted. Change can be viewed on the ${props.type}'s detail page.`)\r\n      })\r\n      .catch(error => {\r\n        console.error(error);\r\n        return alert('Error: Could not delete video!');\r\n      });\r\n  };\r\n\r\n  function handleConfirm(videoId) {\r\n    setShowConfirm(false);\r\n    handleDelete(videoId);\r\n  };\r\n\r\n  const config = {\r\n    file: {\r\n      attributes: {\r\n        controlsList: 'nodownload', // disables download button for some browsers\r\n      },\r\n    },\r\n    // disables right-click context menu on video\r\n    disableContextMenu: true,\r\n  };\r\n\r\n  return (\r\n    <div className = \"video\">\r\n      <div className = \"imgContainer-video\">\r\n      <div className = 'blank' style={{backgroundColor: '#240f0e',}}/>\r\n      <ReactPlayer\r\n            className='react-player'\r\n            url={props.url}\r\n            width = '100%'\r\n            height = '100%'\r\n            fluid = { false }\r\n            playing= {false}\r\n            controls = {false}\r\n            muted = {true}\r\n            config = {config}\r\n            style={{ pointerEvents: 'none' }}\r\n          />\r\n        <button className = \"playButton\"  onClick  = {() =>popupBtn() }></button>\r\n      </div>\r\n\r\n      <Authenticate setAuthen={setAuthenticated}/>\r\n      {authenticated ? (\r\n        <div>\r\n          <button className=\"delete-video\" onClick={() => setShowConfirm(true)}>Delete</button>\r\n          {showConfirm && (\r\n            <div className = \"popup\">\r\n              <div className = \"popup-inner-upcomingAdd\">\r\n                <div className=\"popup-header\">\r\n                  <h2>Are you sure you want to delete this video?</h2>\r\n                </div>\r\n                <div className=\"popup-content\">\r\n                  <div className=\"popup-deleteFeature\">\r\n                    <button className=\"confirm-buttons\" onClick={() => handleConfirm(props.id)}>Yes</button>\r\n                    <button className=\"confirm-buttons\" onClick={() => setShowConfirm(false)}>No</button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      ) : (null)}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Video"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}