{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/rapha/Documents/GitHub/SamuelBrettWilliamsWeb/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/rapha/Documents/GitHub/SamuelBrettWilliamsWeb/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/rapha/Documents/GitHub/SamuelBrettWilliamsWeb/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{useSearchParams}from'react-router-dom';import axios from'axios';import'../styles/PasswordReset.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PasswordReset=function PasswordReset(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),password=_useState2[0],setPassword=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),passwordConfirm=_useState4[0],setPasswordConfirm=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),notMatched=_useState6[0],setNotMatched=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];var _useSearchParams=useSearchParams(),_useSearchParams2=_slicedToArray(_useSearchParams,2),searchParams=_useSearchParams2[0],setSearchParams=_useSearchParams2[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),message=_useState10[0],setMessage=_useState10[1];var token=console.log(searchParams.get('token'));var passwordConfirmHandler=function passwordConfirmHandler(e){if(e.target.value!==password){setNotMatched(true);}else{setNotMatched(false);}setPasswordConfirm(e.target.value);};var submitHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var resopnse;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return axios.post('http://localhost:3000/api/reset-password',{token:searchParams.get('token'),password:password});case 3:resopnse=_context.sent;console.log(resopnse);setMessage('Password Changed');case 6:case\"end\":return _context.stop();}},_callee);}));return function submitHandler(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"section\",{className:\"password-reset\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"password-reset__content\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Password Reset\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"password-reset__form\",onSubmit:submitHandler,children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",onChange:function onChange(e){return setPassword(e.target.value);},placeholder:\"New password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",onChange:passwordConfirmHandler,placeholder:\"confirm new password\"}),notMatched&&/*#__PURE__*/_jsx(\"label\",{className:\"reset-password__notmatched\",children:\"Password does not match!..\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Submit\"}),/*#__PURE__*/_jsx(\"h5\",{children:message})]})]})});};export default PasswordReset;","map":{"version":3,"names":["React","useState","useSearchParams","axios","PasswordReset","password","setPassword","passwordConfirm","setPasswordConfirm","notMatched","setNotMatched","error","setError","searchParams","setSearchParams","message","setMessage","token","console","log","get","passwordConfirmHandler","e","target","value","submitHandler","preventDefault","post","resopnse"],"sources":["C:/Users/rapha/Documents/GitHub/SamuelBrettWilliamsWeb/frontend/src/components/PasswordReset.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useSearchParams } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nimport '../styles/PasswordReset.css';\r\n\r\nconst PasswordReset = () => {\r\n\tconst [password, setPassword] = useState();\r\n\tconst [passwordConfirm, setPasswordConfirm] = useState();\r\n\tconst [notMatched, setNotMatched] = useState(false);\r\n\tconst [error, setError] = useState('');\r\n\r\n\tconst [searchParams, setSearchParams] = useSearchParams();\r\n\tconst [message, setMessage] = useState('');\r\n\r\n\tlet token = console.log(searchParams.get('token'));\r\n\r\n\tconst passwordConfirmHandler = (e) => {\r\n\t\tif (e.target.value !== password) {\r\n\t\t\tsetNotMatched(true);\r\n\t\t} else {\r\n\t\t\tsetNotMatched(false);\r\n\t\t}\r\n\t\tsetPasswordConfirm(e.target.value);\r\n\t};\r\n\r\n\tconst submitHandler = async (e) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tconst resopnse = await axios.post(\r\n\t\t\t'http://localhost:3000/api/reset-password',\r\n\t\t\t{\r\n\t\t\t\ttoken: searchParams.get('token'),\r\n\t\t\t\tpassword,\r\n\t\t\t}\r\n\t\t);\r\n\t\tconsole.log(resopnse);\r\n\t\tsetMessage('Password Changed');\r\n\t};\r\n\treturn (\r\n\t\t<section className='password-reset'>\r\n\t\t\t<div className='password-reset__content'>\r\n\t\t\t\t<h2>Password Reset</h2>\r\n\r\n\t\t\t\t<form className='password-reset__form' onSubmit={submitHandler}>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}\r\n\t\t\t\t\t\tplaceholder='New password'\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\tonChange={passwordConfirmHandler}\r\n\t\t\t\t\t\tplaceholder='confirm new password'\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t{notMatched && (\r\n\t\t\t\t\t\t<label className='reset-password__notmatched'>\r\n\t\t\t\t\t\t\tPassword does not match!..\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t<button type='submit'>Submit</button>\r\n\r\n\t\t\t\t\t<h5>{message}</h5>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</section>\r\n\t);\r\n};\r\n\r\nexport default PasswordReset;\r\n"],"mappings":"+cAAA,MAAOA,MAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,eAAe,KAAQ,kBAAkB,CAClD,MAAOC,MAAK,KAAM,OAAO,CAEzB,MAAO,6BAA6B,CAAC,wFAErC,GAAMC,cAAa,CAAG,QAAhBA,cAAa,EAAS,CAC3B,cAAgCH,QAAQ,EAAE,wCAAnCI,QAAQ,eAAEC,WAAW,eAC5B,eAA8CL,QAAQ,EAAE,yCAAjDM,eAAe,eAAEC,kBAAkB,eAC1C,eAAoCP,QAAQ,CAAC,KAAK,CAAC,yCAA5CQ,UAAU,eAAEC,aAAa,eAChC,eAA0BT,QAAQ,CAAC,EAAE,CAAC,yCAA/BU,KAAK,eAAEC,QAAQ,eAEtB,qBAAwCV,eAAe,EAAE,sDAAlDW,YAAY,sBAAEC,eAAe,sBACpC,eAA8Bb,QAAQ,CAAC,EAAE,CAAC,0CAAnCc,OAAO,gBAAEC,UAAU,gBAE1B,GAAIC,MAAK,CAAGC,OAAO,CAACC,GAAG,CAACN,YAAY,CAACO,GAAG,CAAC,OAAO,CAAC,CAAC,CAElD,GAAMC,uBAAsB,CAAG,QAAzBA,uBAAsB,CAAIC,CAAC,CAAK,CACrC,GAAIA,CAAC,CAACC,MAAM,CAACC,KAAK,GAAKnB,QAAQ,CAAE,CAChCK,aAAa,CAAC,IAAI,CAAC,CACpB,CAAC,IAAM,CACNA,aAAa,CAAC,KAAK,CAAC,CACrB,CACAF,kBAAkB,CAACc,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CACnC,CAAC,CAED,GAAMC,cAAa,4FAAG,iBAAOH,CAAC,gIAC7BA,CAAC,CAACI,cAAc,EAAE,CAAC,sBAEIvB,MAAK,CAACwB,IAAI,CAChC,0CAA0C,CAC1C,CACCV,KAAK,CAAEJ,YAAY,CAACO,GAAG,CAAC,OAAO,CAAC,CAChCf,QAAQ,CAARA,QACD,CAAC,CACD,QANKuB,QAAQ,eAOdV,OAAO,CAACC,GAAG,CAACS,QAAQ,CAAC,CACrBZ,UAAU,CAAC,kBAAkB,CAAC,CAAC,qDAC/B,kBAZKS,cAAa,4CAYlB,CACD,mBACC,gBAAS,SAAS,CAAC,gBAAgB,uBAClC,aAAK,SAAS,CAAC,yBAAyB,wBACvC,oBAAI,gBAAc,EAAK,cAEvB,cAAM,SAAS,CAAC,sBAAsB,CAAC,QAAQ,CAAEA,aAAc,wBAC9D,cACC,IAAI,CAAC,UAAU,CACf,QAAQ,CAAE,kBAACH,CAAC,QAAKhB,YAAW,CAACgB,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,EAAC,CAC7C,WAAW,CAAC,cAAc,EACzB,cACF,cACC,IAAI,CAAC,UAAU,CACf,QAAQ,CAAEH,sBAAuB,CACjC,WAAW,CAAC,sBAAsB,EACjC,CAEDZ,UAAU,eACV,cAAO,SAAS,CAAC,4BAA4B,UAAC,4BAE9C,EACA,cAED,eAAQ,IAAI,CAAC,QAAQ,UAAC,QAAM,EAAS,cAErC,oBAAKM,OAAO,EAAM,GACZ,GACF,EACG,CAEZ,CAAC,CAED,cAAeX,cAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}