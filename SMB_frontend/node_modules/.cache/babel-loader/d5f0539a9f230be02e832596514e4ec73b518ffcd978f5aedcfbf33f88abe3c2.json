{"ast":null,"code":"import _slicedToArray from\"C:/Users/rapha/Documents/GitHub/SamuelBrettWilliamsWeb/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import placeholder from'../assets/placeholder.png';import'../styles/Film.css';import{Link}from'react-router-dom';import{useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Film(props){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),pic=_useState4[0],setPic=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];var title=encodeURIComponent(props.title);useEffect(function(){fetch(\"http://localhost:3000/api/films?search=\".concat(title)).then(function(res){return res.json();}).then(function(data){setPic(data[0].film_photo);}).catch(function(error){console.error(\"Error fetching data: \",error);setError(error);}).finally(function(){setLoading(false);});},[]);if(loading)return/*#__PURE__*/_jsx(\"div\",{className:\"page\",children:\"Loading...\"});if(error)return/*#__PURE__*/_jsx(\"div\",{className:\"page\",children:\"Error!\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"film\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Link,{to:\"/filmdetails/\".concat(props.title),state:{cover:props.photo,title:props.title,director:props.director,writer:props.screenplay,stars:props.stars,status:props.status,buy_links:props.buy_links,synopsis:props.description,photos:props.still_photos,videos:props.videos},children:/*#__PURE__*/_jsx(\"img\",{className:\"filmImg\",src:placeholder})})}),/*#__PURE__*/_jsxs(\"span\",{className:\"filmTitle\",children:[\" \",props.title,\" \"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"filmDuration\",children:[\" \",props.type_film,\" \"]})]});}export default Film;","map":{"version":3,"names":["React","placeholder","Link","useState","useEffect","Film","props","data","setData","pic","setPic","loading","setLoading","error","setError","title","encodeURIComponent","fetch","then","res","json","film_photo","catch","console","finally","cover","photo","director","writer","screenplay","stars","status","buy_links","synopsis","description","photos","still_photos","videos","type_film"],"sources":["C:/Users/rapha/Documents/GitHub/SamuelBrettWilliamsWeb/frontend/src/components/Film.js"],"sourcesContent":["import React from 'react'\r\nimport placeholder from '../assets/placeholder.png'\r\nimport '../styles/Film.css'\r\nimport { Link } from 'react-router-dom'\r\nimport { useState, useEffect } from 'react'\r\nfunction Film(props) {\r\n\r\n  const [data, setData] = useState(null);\r\n  const [pic, setPic] = useState();\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  const title = encodeURIComponent(props.title);\r\n\r\n  useEffect(() => {\r\n    fetch(`http://localhost:3000/api/films?search=${title}`)\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        setPic(data[0].film_photo)\r\n      })\r\n      .catch(error => {\r\n        console.error(\"Error fetching data: \", error);\r\n        setError(error);\r\n      })\r\n      .finally(() => {\r\n        setLoading(false);\r\n      })\r\n  }, [])\r\n\r\n  if (loading) return <div className=\"page\">Loading...</div>;\r\n  if (error) return <div className=\"page\">Error!</div>;\r\n\r\n  return (\r\n\r\n    <div className=\"film\">\r\n      <div>\r\n        <Link to={`/filmdetails/${props.title}`} state={{\r\n          cover: props.photo,\r\n          title: props.title,\r\n          director: props.director,\r\n          writer: props.screenplay,\r\n          stars: props.stars,\r\n          status: props.status,\r\n          buy_links: props.buy_links,\r\n          synopsis: props.description,\r\n          photos: props.still_photos,\r\n          videos: props.videos\r\n        }} ><img className=\"filmImg\" src={placeholder} /></Link>\r\n      </div>\r\n      <span className=\"filmTitle\"> {props.title} </span>\r\n      <span className=\"filmDuration\"> {props.type_film} </span>\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\nexport default Film"],"mappings":"qJAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,MAAOC,YAAW,KAAM,2BAA2B,CACnD,MAAO,oBAAoB,CAC3B,OAASC,IAAI,KAAQ,kBAAkB,CACvC,OAASC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,yFAC3C,QAASC,KAAI,CAACC,KAAK,CAAE,CAEnB,cAAwBH,QAAQ,CAAC,IAAI,CAAC,wCAA/BI,IAAI,eAAEC,OAAO,eACpB,eAAsBL,QAAQ,EAAE,yCAAzBM,GAAG,eAAEC,MAAM,eAClB,eAA8BP,QAAQ,CAAC,IAAI,CAAC,yCAArCQ,OAAO,eAAEC,UAAU,eAC1B,eAA0BT,QAAQ,CAAC,IAAI,CAAC,yCAAjCU,KAAK,eAAEC,QAAQ,eAEtB,GAAMC,MAAK,CAAGC,kBAAkB,CAACV,KAAK,CAACS,KAAK,CAAC,CAE7CX,SAAS,CAAC,UAAM,CACda,KAAK,kDAA2CF,KAAK,EAAG,CACrDG,IAAI,CAAC,SAACC,GAAG,QAAKA,IAAG,CAACC,IAAI,EAAE,GAAC,CACzBF,IAAI,CAAC,SAACX,IAAI,CAAK,CACdG,MAAM,CAACH,IAAI,CAAC,CAAC,CAAC,CAACc,UAAU,CAAC,CAC5B,CAAC,CAAC,CACDC,KAAK,CAAC,SAAAT,KAAK,CAAI,CACdU,OAAO,CAACV,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CAC7CC,QAAQ,CAACD,KAAK,CAAC,CACjB,CAAC,CAAC,CACDW,OAAO,CAAC,UAAM,CACbZ,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAAC,CACN,CAAC,CAAE,EAAE,CAAC,CAEN,GAAID,OAAO,CAAE,mBAAO,YAAK,SAAS,CAAC,MAAM,UAAC,YAAU,EAAM,CAC1D,GAAIE,KAAK,CAAE,mBAAO,YAAK,SAAS,CAAC,MAAM,UAAC,QAAM,EAAM,CAEpD,mBAEE,aAAK,SAAS,CAAC,MAAM,wBACnB,kCACE,KAAC,IAAI,EAAC,EAAE,wBAAkBP,KAAK,CAACS,KAAK,CAAG,CAAC,KAAK,CAAE,CAC9CU,KAAK,CAAEnB,KAAK,CAACoB,KAAK,CAClBX,KAAK,CAAET,KAAK,CAACS,KAAK,CAClBY,QAAQ,CAAErB,KAAK,CAACqB,QAAQ,CACxBC,MAAM,CAAEtB,KAAK,CAACuB,UAAU,CACxBC,KAAK,CAAExB,KAAK,CAACwB,KAAK,CAClBC,MAAM,CAAEzB,KAAK,CAACyB,MAAM,CACpBC,SAAS,CAAE1B,KAAK,CAAC0B,SAAS,CAC1BC,QAAQ,CAAE3B,KAAK,CAAC4B,WAAW,CAC3BC,MAAM,CAAE7B,KAAK,CAAC8B,YAAY,CAC1BC,MAAM,CAAE/B,KAAK,CAAC+B,MAChB,CAAE,uBAAE,YAAK,SAAS,CAAC,SAAS,CAAC,GAAG,CAAEpC,WAAY,EAAG,EAAO,EACpD,cACN,cAAM,SAAS,CAAC,WAAW,WAAC,GAAC,CAACK,KAAK,CAACS,KAAK,CAAC,GAAC,GAAO,cAClD,cAAM,SAAS,CAAC,cAAc,WAAC,GAAC,CAACT,KAAK,CAACgC,SAAS,CAAC,GAAC,GAAO,GACrD,CAGV,CAEA,cAAejC,KAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}