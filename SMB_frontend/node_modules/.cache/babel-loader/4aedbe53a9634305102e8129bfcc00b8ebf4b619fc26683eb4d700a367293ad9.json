{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rapha\\\\Documents\\\\GitHub\\\\SamuelBrettWilliamsWeb\\\\frontend\\\\src\\\\pages\\\\Home.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport '../styles/Home.css';\nimport { useEffect, useState } from 'react';\nimport Project from '../components/Project';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faAngleLeft, faAngleRight, faXmark } from '@fortawesome/free-solid-svg-icons';\nimport { useRef } from 'react';\nimport Popup from '../components/Popup';\nimport ReactPlayer from 'react-player';\nimport Authenticate from '../components/Authenticate.js';\nimport PlusIcon from '../assets/add-icon.png';\nimport UpcomingAddPopup from '../components/UpcomingAddPopup';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Home() {\n  _s();\n  const [data, setData] = useState(null);\n  const [buttonPopup, setButtonPopup] = useState(false);\n  const [popupUrl, setPopupUrl] = useState('');\n  const [upcomingAdd, setUpcomingAdd] = useState(false);\n  const [filmSelect, setFilmSelect] = useState(false);\n  const [pic, setPic] = useState();\n  const [desc, setDesc] = useState();\n  const [projs, setProjects] = useState();\n  const [pageLoading, setPageLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [editDes, setEditDes] = useState(false);\n  const [newDes, setNewDes] = useState('');\n  const [authenticated, setAuthenticated] = useState();\n  const [photoUrl, setPhotoUrl] = useState('');\n  const [updatePhotoTrigger, setUpdatePhotoTrigger] = useState(false);\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const abortControllerRef = useRef(null);\n  const handleEditDes = () => {\n    setEditDes(true);\n    setNewDes(desc);\n  };\n  const handleSave = () => {\n    fetch('http://localhost:3000/api/homepage/edit/about', {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        about_des: newDes\n      })\n    }).then(() => {\n      setDesc(newDes);\n      setEditDes(false);\n    }).catch(error => {\n      console.error('Error updating about description: ', error);\n    });\n  };\n  const handleCancel = () => {\n    setEditDes(false);\n  };\n  const toggleUpdatePhotoTrigger = () => {\n    setUpdatePhotoTrigger(!updatePhotoTrigger);\n  };\n  const handlePhotoUrlSubmit = event => {\n    event.preventDefault();\n    if (photoUrl === \"\") {\n      return alert('Please enter a photo link.');\n    }\n    fetch('http://localhost:3000/api/homepage/photo', {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        photo: photoUrl\n      })\n    }).then(response => response.json()).then(data => {\n      setPhotoUrl('');\n      setUpdatePhotoTrigger(!updatePhotoTrigger);\n      console.log('Success:', data);\n      window.location.reload();\n    }).catch(error => {\n      console.error('Error:', error);\n      return alert('Error: Photo URL could not be updated!');\n    });\n  };\n  const handlePhotoFileSubmit = async event => {\n    event.preventDefault();\n    if (!selectedFile) {\n      return alert('Please upload a photo.');\n    }\n    const formData = new FormData();\n    formData.append('files', selectedFile);\n    const abortController = new AbortController();\n    abortControllerRef.current = abortController;\n    setLoading(true);\n    fetch('http://localhost:3000/api/upload/files', {\n      method: 'POST',\n      body: formData,\n      signal: abortController.signal\n    }).then(response => response.json()).then(data => {\n      fetch('http://localhost:3000/api/homepage/photo', {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          photo: data[0]\n        })\n      }).then(response => response.json()).then(data => {\n        console.log(data.photo);\n        setLoading(false);\n        setUpdatePhotoTrigger(!updatePhotoTrigger);\n        console.log('Success:', data);\n        window.location.reload();\n      }).catch(error => {\n        console.error('Error:', error);\n        return alert('Error: Photo could not be updated!');\n      });\n    }).catch(error => {\n      console.error('Error:', error);\n      setLoading(false);\n      return alert('Error: File could not be uploaded!');\n    });\n  };\n  const handleCancelUpload = () => {\n    if (abortControllerRef.current) {\n      abortControllerRef.current.abort();\n    }\n  };\n  const scrollElement = useRef(null);\n  const scrollRight = () => {\n    scrollElement.current.scrollLeft = scrollElement.current.scrollLeft + 1700;\n  };\n  const scrollLeft = () => {\n    scrollElement.current.scrollLeft = scrollElement.current.scrollLeft - 1700;\n  };\n  function upcomingPopup() {\n    setUpcomingAdd(true);\n    setFilmSelect(true);\n  }\n  useEffect(() => {\n    fetch('http://localhost:3000/api/homepage').then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n      throw response;\n    }).then(data => {\n      setData(data);\n      setPic(data[0].client_photo);\n      setDesc(data[0].about_des);\n      setProjects(data[0].films.reverse());\n    }).catch(error => {\n      console.error(\"Error fetching data: \", error);\n      setError(error);\n    }).finally(() => {\n      setPageLoading(false);\n    });\n  }, []);\n  if (pageLoading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page\",\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 188,\n    columnNumber: 25\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page\",\n    children: \"Error!\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 189,\n    columnNumber: 19\n  }, this);\n  const projectReel = projs.map(item => {\n    // later data will be equal to the state variable that accepted the api data from the fetch request\n    return /*#__PURE__*/_jsxDEV(Project, {\n      setButtonPopup: setButtonPopup,\n      setUrl: setPopupUrl,\n      ...item\n    }, item.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 5\n    }, this);\n  });\n  const config = {\n    file: {\n      attributes: {\n        controlsList: 'nodownload' // disables download button for some browsers\n      }\n    },\n\n    // disables right-click context menu on video\n    disableContextMenu: true\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"home\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"player-wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"home-quote\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"firstline\",\n          children: \"\\\"Call Samuel Brett Williams a\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"secondline-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"secondline\",\n            children: \"PLAYWRIGHT ON THE VERGE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"second-end\",\n            children: \".\\\"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 68\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"thirdline\",\n          children: \"David A. Rosenberg, BACKSTAGE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ReactPlayer, {\n        className: \"react-player\",\n        url: \"https://vimeo.com/817461599\",\n        fluid: false,\n        width: \"100%\",\n        height: \"100%\",\n        playing: true,\n        controls: false,\n        muted: true,\n        loop: true,\n        config: config,\n        style: {\n          pointerEvents: 'none'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"page-container\",\n        children: [editDes ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"about\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"aboutBody\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                children: \"ABOUT\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"textarea-container-home\",\n                children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  id: \"des\",\n                  type: \"text\",\n                  value: newDes,\n                  onChange: e => setNewDes(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"buttonDetailsUpdate\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleSave,\n                  children: \"SAVE\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 246,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleCancel,\n                  children: \"CANCEL\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 247,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"samImg\",\n              src: pic\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"about\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"aboutBody\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                children: \"ABOUT\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"clientDesc\",\n                children: desc\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Authenticate, {\n                setAuthen: setAuthenticated\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 19\n              }, this), authenticated ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"editButtons\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleEditDes,\n                  children: \"EDIT DESCRIPTION\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 264,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 263,\n                columnNumber: 21\n              }, this) : null]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"clientPhoto-container\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"samImg\",\n                src: pic\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 19\n              }, this), authenticated ? /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"editContent-clientPhoto\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"buttonPosterEdit\",\n                    onClick: () => toggleUpdatePhotoTrigger(),\n                    children: \"EDIT PHOTO\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 273,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 272,\n                  columnNumber: 23\n                }, this), updatePhotoTrigger && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"popup\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"popup-inner-upcomingAdd\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"close-btn\",\n                      onClick: () => toggleUpdatePhotoTrigger(),\n                      children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                        icon: faXmark,\n                        size: \"xl\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 278,\n                        columnNumber: 107\n                      }, this), \" \"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 278,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"popup-header\",\n                      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                        children: \"ENTER PHOTO URL\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 280,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 279,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"popup-content\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"photo-url\",\n                        children: \"Enter photo URL:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 283,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                        className: \"popup-form\",\n                        onSubmit: handlePhotoUrlSubmit,\n                        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                          type: \"text\",\n                          id: \"photo-url\",\n                          name: \"photo-url\",\n                          value: photoUrl,\n                          placeholder: \"Enter the URL of photo\",\n                          onChange: e => setPhotoUrl(e.target.value)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 285,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                          className: \"button-submitUpcoming\",\n                          type: \"submit\",\n                          disabled: loading,\n                          children: \"Submit\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 286,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 284,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 282,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"popup-header\",\n                      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                        children: \"OR UPLOAD A PHOTO\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 290,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 289,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"popup-content\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"files\",\n                        children: \"Select a file to upload:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 293,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                        className: \"popup-form\",\n                        onSubmit: handlePhotoFileSubmit,\n                        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                          className: \"upload-content\",\n                          type: \"file\",\n                          id: \"files\",\n                          onChange: e => setSelectedFile(e.target.files[0])\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 295,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                          className: \"button-submitUpcoming\",\n                          type: \"submit\",\n                          disabled: loading,\n                          children: \"Upload\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 296,\n                          columnNumber: 33\n                        }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"popup\",\n                          children: /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"popup-inner-upcomingAdd\",\n                            children: /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"loading\",\n                              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"popup-header\",\n                                children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                                  children: \"Uploading file...\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 302,\n                                  columnNumber: 45\n                                }, this)\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 301,\n                                columnNumber: 41\n                              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                                children: \"This may take a while\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 304,\n                                columnNumber: 41\n                              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"popup-content\",\n                                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                                  className: \"loader\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 306,\n                                  columnNumber: 45\n                                }, this)\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 305,\n                                columnNumber: 41\n                              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                                className: \"cancel-upload\",\n                                type: \"cancel\",\n                                onClick: handleCancelUpload,\n                                children: \"Cancel\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 308,\n                                columnNumber: 41\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 300,\n                              columnNumber: 39\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 299,\n                            columnNumber: 37\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 298,\n                          columnNumber: 35\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 294,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 292,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 277,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 276,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 21\n              }, this) : null]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"upcomingProjects\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"topReel\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"reelText\",\n              children: \"FEATURED PROJECTS\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"arrows\",\n              children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                className: \"scroll-icon-left\",\n                icon: faAngleLeft,\n                onClick: scrollLeft\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                className: \"scroll-icon-right\",\n                icon: faAngleRight,\n                onClick: scrollRight\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 329,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"reel\",\n            ref: scrollElement,\n            children: [authenticated ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"imgContainer\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"blank-add\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"addButton\",\n                  onClick: () => upcomingPopup(),\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: PlusIcon\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 337,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 336,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 335,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 17\n            }, this) : null, projectReel]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 13\n          }, this), authenticated ? /*#__PURE__*/_jsxDEV(UpcomingAddPopup, {\n            trigger: upcomingAdd,\n            setTrigger: setUpcomingAdd,\n            filmSelect: filmSelect,\n            setFilmSelect: setFilmSelect\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 15\n          }, this) : null, /*#__PURE__*/_jsxDEV(Popup, {\n            url: popupUrl,\n            trigger: buttonPopup,\n            setTrigger: setButtonPopup\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 13\n          }, this), console.log(popupUrl)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 213,\n    columnNumber: 5\n  }, this);\n}\n_s(Home, \"fKoK0IScjFqhbJHDzHupArakTKw=\");\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useEffect","useState","Project","FontAwesomeIcon","faAngleLeft","faAngleRight","faXmark","useRef","Popup","ReactPlayer","Authenticate","PlusIcon","UpcomingAddPopup","Home","data","setData","buttonPopup","setButtonPopup","popupUrl","setPopupUrl","upcomingAdd","setUpcomingAdd","filmSelect","setFilmSelect","pic","setPic","desc","setDesc","projs","setProjects","pageLoading","setPageLoading","error","setError","editDes","setEditDes","newDes","setNewDes","authenticated","setAuthenticated","photoUrl","setPhotoUrl","updatePhotoTrigger","setUpdatePhotoTrigger","selectedFile","setSelectedFile","loading","setLoading","abortControllerRef","handleEditDes","handleSave","fetch","method","headers","body","JSON","stringify","about_des","then","catch","console","handleCancel","toggleUpdatePhotoTrigger","handlePhotoUrlSubmit","event","preventDefault","alert","photo","response","json","log","window","location","reload","handlePhotoFileSubmit","formData","FormData","append","abortController","AbortController","current","signal","handleCancelUpload","abort","scrollElement","scrollRight","scrollLeft","upcomingPopup","ok","client_photo","films","reverse","finally","projectReel","map","item","id","config","file","attributes","controlsList","disableContextMenu","pointerEvents","e","target","value","files"],"sources":["C:/Users/rapha/Documents/GitHub/SamuelBrettWilliamsWeb/frontend/src/pages/Home.js"],"sourcesContent":["import React from 'react'\r\nimport '../styles/Home.css'\r\nimport {useEffect, useState} from 'react'\r\nimport Project from '../components/Project'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faAngleLeft, faAngleRight, faXmark } from '@fortawesome/free-solid-svg-icons'\r\nimport {useRef} from 'react'\r\nimport Popup from '../components/Popup'\r\nimport ReactPlayer from 'react-player'\r\nimport Authenticate from '../components/Authenticate.js';\r\nimport PlusIcon from '../assets/add-icon.png';\r\nimport UpcomingAddPopup from '../components/UpcomingAddPopup'\r\n\r\nfunction Home() {\r\n  const [data,setData] = useState(null);\r\n  const [buttonPopup,setButtonPopup] = useState(false);\r\n  const [popupUrl,setPopupUrl] =useState('');\r\n  const [upcomingAdd, setUpcomingAdd] = useState(false);\r\n  const [filmSelect, setFilmSelect] = useState(false);\r\n  const [pic,setPic] = useState();\r\n  const [desc, setDesc] = useState();\r\n  const [projs,setProjects] = useState();\r\n  const [pageLoading, setPageLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [editDes, setEditDes] = useState(false);\r\n  const [newDes, setNewDes] = useState('');\r\n  const [authenticated, setAuthenticated] = useState();\r\n  const [photoUrl, setPhotoUrl] = useState('');\r\n  const [updatePhotoTrigger, setUpdatePhotoTrigger] = useState(false);\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const abortControllerRef = useRef(null);\r\n\r\n\r\n  const handleEditDes = () => {\r\n    setEditDes(true);\r\n    setNewDes(desc);\r\n  };\r\n  \r\n  const handleSave = () => {\r\n    fetch('http://localhost:3000/api/homepage/edit/about', {\r\n      method: 'PUT',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ about_des: newDes }),\r\n    })\r\n      .then(() => {\r\n        setDesc(newDes);\r\n        setEditDes(false);\r\n      })\r\n      .catch((error) => {\r\n        console.error('Error updating about description: ', error);\r\n      });\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setEditDes(false);\r\n  }\r\n\r\n  const toggleUpdatePhotoTrigger = () => {\r\n    setUpdatePhotoTrigger(!updatePhotoTrigger);\r\n  }\r\n\r\n  const handlePhotoUrlSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    if (photoUrl === \"\") {\r\n        return alert('Please enter a photo link.');\r\n    }\r\n\r\n    fetch('http://localhost:3000/api/homepage/photo', {\r\n        method: 'PUT',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n            photo: photoUrl,\r\n        })\r\n    })\r\n    .then(response => response.json())\r\n    .then(data => {\r\n        setPhotoUrl('');\r\n        setUpdatePhotoTrigger(!updatePhotoTrigger);\r\n        console.log('Success:', data);\r\n        window.location.reload();\r\n    })\r\n    .catch(error => {\r\n        console.error('Error:', error);\r\n        return alert('Error: Photo URL could not be updated!');\r\n    });\r\n  }\r\n\r\n  const handlePhotoFileSubmit = async (event) => {\r\n    event.preventDefault();\r\n    if (!selectedFile) {\r\n      return alert('Please upload a photo.');\r\n    }\r\n\r\n    const formData = new FormData();\r\n    formData.append('files', selectedFile);\r\n\r\n    const abortController = new AbortController();\r\n    abortControllerRef.current = abortController;\r\n\r\n    setLoading(true);\r\n    fetch('http://localhost:3000/api/upload/files', {\r\n        method: 'POST',\r\n        body: formData,\r\n        signal: abortController.signal\r\n    })\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      fetch('http://localhost:3000/api/homepage/photo', {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        photo: data[0],\r\n      })\r\n    })\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        console.log(data.photo);\r\n        setLoading(false);\r\n        setUpdatePhotoTrigger(!updatePhotoTrigger);\r\n        console.log('Success:', data);\r\n        window.location.reload();\r\n      })\r\n      .catch(error => {\r\n        console.error('Error:', error);\r\n        return alert('Error: Photo could not be updated!');\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.error('Error:', error);\r\n      setLoading(false);\r\n      return alert('Error: File could not be uploaded!');\r\n    });\r\n  };\r\n\r\n  const handleCancelUpload = () => {\r\n    if (abortControllerRef.current) {\r\n      abortControllerRef.current.abort();\r\n    }\r\n  };\r\n\r\n  const scrollElement = useRef(null)\r\n\r\n  const scrollRight = () =>{\r\n    scrollElement.current.scrollLeft = \r\n    scrollElement.current.scrollLeft + 1700\r\n  }\r\n\r\n  const scrollLeft = () =>{\r\n    scrollElement.current.scrollLeft = \r\n    scrollElement.current.scrollLeft - 1700\r\n  }\r\n\r\n  function upcomingPopup(){\r\n    setUpcomingAdd(true);\r\n    setFilmSelect(true);\r\n  }\r\n\r\nuseEffect(() => {\r\n  fetch('http://localhost:3000/api/homepage')\r\n    .then(response => {\r\n      if (response.ok) {\r\n        return response.json()\r\n      }\r\n      throw response;\r\n    })\r\n    .then(data => {\r\n      setData(data);\r\n      setPic(data[0].client_photo);\r\n      setDesc(data[0].about_des);\r\n      setProjects(data[0].films.reverse());\r\n    })\r\n    .catch(error => {\r\n      console.error(\"Error fetching data: \", error);\r\n      setError(error);\r\n    })\r\n    .finally(() => {\r\n      setPageLoading(false);\r\n    })\r\n}, [])\r\n\r\n \r\nif (pageLoading) return <div className=\"page\">Loading...</div>;\r\nif (error) return <div className=\"page\">Error!</div>;\r\n\r\nconst projectReel = projs.map(item => {   // later data will be equal to the state variable that accepted the api data from the fetch request\r\n  return(\r\n    <Project\r\n        key = {item.id}\r\n        setButtonPopup = {setButtonPopup}\r\n        setUrl = {setPopupUrl}\r\n        {...item}\r\n    />\r\n  )\r\n})\r\n\r\nconst config = {\r\n  file: {\r\n    attributes: {\r\n      controlsList: 'nodownload', // disables download button for some browsers\r\n    },\r\n  },\r\n  // disables right-click context menu on video\r\n  disableContextMenu: true,\r\n};\r\n\r\n  return (\r\n    <div className=\"home\">\r\n      <div className='player-wrapper'>\r\n        <div className='home-quote'>\r\n          <h1 className='firstline'>\"Call Samuel Brett Williams a</h1>\r\n          <div className='secondline-container'>\r\n            <h1 className='secondline'>PLAYWRIGHT ON THE VERGE</h1><h1 className='second-end'>.\"</h1>\r\n          </div>\r\n          <h1 className='thirdline'>David A. Rosenberg, BACKSTAGE</h1>\r\n        </div>\r\n        <ReactPlayer\r\n          className='react-player'\r\n          url='https://vimeo.com/817461599'\r\n          fluid={false}\r\n          width='100%'\r\n          height='100%'\r\n          playing={true}\r\n          controls={false}\r\n          muted={true} \r\n          loop={true} \r\n          config={config}\r\n          style={{ pointerEvents: 'none' }}/>\r\n      </div>\r\n      <div className=\"page\">\r\n        <div className='page-container'>\r\n          {editDes ? (\r\n            <div className = \"about\">  \r\n              <div className = \"aboutBody\">\r\n                <div>\r\n                  <h1>ABOUT</h1>\r\n                  <div className='textarea-container-home'>\r\n                    <textarea id=\"des\" type=\"text\" value={newDes} onChange={(e) => setNewDes(e.target.value)} />\r\n                  </div>\r\n                  <div className='buttonDetailsUpdate'>\r\n                    <button onClick={handleSave}>SAVE</button>\r\n                    <button onClick={handleCancel}>CANCEL</button>\r\n                  </div>\r\n                </div>\r\n                <img className = 'samImg' src = {pic} />\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className = \"about\">  \r\n              <div className = \"aboutBody\">\r\n                <div>\r\n                  <h1>ABOUT</h1>\r\n                  <h2 className = \"clientDesc\">\r\n                    {desc}\r\n                  </h2>\r\n                  <Authenticate setAuthen={setAuthenticated}/>\r\n                  {authenticated ? (\r\n                    <div className = \"editButtons\">\r\n                      <button onClick={handleEditDes}>EDIT DESCRIPTION</button>\r\n                    </div>\r\n                  ) : (null)}\r\n                </div>\r\n                <div className='clientPhoto-container'>\r\n                  <img className = 'samImg' src = {pic} />\r\n                  {authenticated ? (\r\n                    <div>\r\n                      <div className='editContent-clientPhoto'>\r\n                        <button className='buttonPosterEdit' onClick={() => toggleUpdatePhotoTrigger()}>EDIT PHOTO</button>\r\n                      </div>\r\n                      {updatePhotoTrigger && (\r\n                        <div className = \"popup\">\r\n                          <div className = \"popup-inner-upcomingAdd\">\r\n                            <button className = \"close-btn\" onClick ={() => toggleUpdatePhotoTrigger()} >{<FontAwesomeIcon icon={faXmark} size=\"xl\" />} </button>\r\n                            <div className=\"popup-header\">\r\n                              <h2>ENTER PHOTO URL</h2>\r\n                            </div>\r\n                            <div className=\"popup-content\">\r\n                              <label htmlFor=\"photo-url\">Enter photo URL:</label>\r\n                              <form className='popup-form' onSubmit={handlePhotoUrlSubmit}>\r\n                                <input type=\"text\" id=\"photo-url\" name=\"photo-url\" value={photoUrl} placeholder=\"Enter the URL of photo\" onChange={(e) => setPhotoUrl(e.target.value)} />\r\n                                <button className=\"button-submitUpcoming\" type=\"submit\" disabled={loading}>Submit</button>\r\n                              </form>\r\n                            </div>\r\n                            <div className=\"popup-header\">\r\n                              <h2>OR UPLOAD A PHOTO</h2>\r\n                            </div>\r\n                            <div className=\"popup-content\">\r\n                              <label htmlFor=\"files\">Select a file to upload:</label>\r\n                              <form className='popup-form' onSubmit={handlePhotoFileSubmit}>\r\n                                <input className=\"upload-content\" type=\"file\" id=\"files\" onChange={(e) => setSelectedFile(e.target.files[0])} />\r\n                                <button className=\"button-submitUpcoming\" type=\"submit\" disabled={loading}>Upload</button>\r\n                                {loading && \r\n                                  <div className = \"popup\">\r\n                                    <div className = \"popup-inner-upcomingAdd\">\r\n                                      <div className='loading'>\r\n                                        <div className=\"popup-header\">\r\n                                            <h2>Uploading file...</h2>\r\n                                        </div>\r\n                                        <label>This may take a while</label>\r\n                                        <div className=\"popup-content\">\r\n                                            <div className=\"loader\"></div>\r\n                                        </div>\r\n                                        <button className=\"cancel-upload\" type=\"cancel\" onClick={handleCancelUpload}>Cancel</button>\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n                                  }\r\n                              </form>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  ) : (null)}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n          <div className='upcomingProjects'>\r\n            <div className='topReel'>\r\n              <div className='reelText'>FEATURED PROJECTS</div>\r\n              <div className='arrows'>\r\n                <FontAwesomeIcon className='scroll-icon-left' icon={faAngleLeft} onClick={scrollLeft} />\r\n                <FontAwesomeIcon className='scroll-icon-right' icon={faAngleRight} onClick={scrollRight} />\r\n              </div>\r\n            </div>\r\n            <div className='reel' ref={scrollElement}>\r\n              {authenticated ? (\r\n                <div className=\"imgContainer\">\r\n                  <div className=\"blank-add\">\r\n                    <button className=\"addButton\" onClick={() => upcomingPopup()}>\r\n                      <img src={PlusIcon}></img></button>\r\n                  </div>\r\n                </div>\r\n              ) : (null)}\r\n              {projectReel}\r\n            </div>\r\n            {authenticated ? (\r\n              <UpcomingAddPopup trigger={upcomingAdd} setTrigger={setUpcomingAdd} filmSelect={filmSelect} setFilmSelect={setFilmSelect}></UpcomingAddPopup>\r\n            ) : (null)}\r\n\r\n            <Popup url={popupUrl} trigger={buttonPopup} setTrigger={setButtonPopup}></Popup>\r\n            {console.log(popupUrl)}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n \r\nexport default Home\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}