{"ast":null,"code":"import _slicedToArray from\"C:/Users/rapha/Documents/GitHub/SamuelBrettWilliamsWeb/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useState,useEffect}from'react';import'../styles/Biography.css';import banner_img from'../assets/biography_background.jpeg';import'../styles/Banner.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Biography(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),pic=_useState4[0],setPic=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),des=_useState6[0],setDes=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),loading=_useState8[0],setLoading=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),error=_useState10[0],setError=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),editDes=_useState12[0],setEditDes=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),editPic=_useState14[0],setEditPic=_useState14[1];var _useState15=useState(''),_useState16=_slicedToArray(_useState15,2),newDes=_useState16[0],setNewDes=_useState16[1];var _useState17=useState(''),_useState18=_slicedToArray(_useState17,2),newPic=_useState18[0],setNewPic=_useState18[1];useEffect(function(){fetch('http://localhost:3000/api/biopage').then(function(res){return res.json();}).then(function(data){setDes(data[0].bio_des);setPic(data[0].client_photo);}).catch(function(error){console.error(\"Error fetching data: \",error);setError(error);}).finally(function(){setLoading(false);});},[]);var handleEditDes=function handleEditDes(){setEditDes(true);setNewDes(des);};var handleEditPic=function handleEditPic(){setEditPic(true);setNewPic(pic);};var handleSave=function handleSave(){fetch('http://localhost:3000/api/biopage',{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify({bio_des:newDes,client_photo:newPic})}).then(function(){setDes(newDes);setPic(newPic);setEditDes(false);setEditPic(false);}).catch(function(error){console.error('Error updating bio_des/client_photo: ',error);});};if(loading)return/*#__PURE__*/_jsx(\"div\",{className:\"page\",children:\"Loading...\"});if(error)return/*#__PURE__*/_jsx(\"div\",{className:\"page\",children:\"Error!\"});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"img\",{className:\"bannerImg\",src:banner_img}),/*#__PURE__*/_jsx(\"div\",{className:\"banner\",children:\"BIOGRAPHY\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"page\",children:editPic||editDes?/*#__PURE__*/_jsxs(\"div\",{className:\"bioBody\",children:[editPic&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"pic\",children:\"Client Photo URL:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"pic\",value:newPic,onChange:function onChange(e){return setNewPic(e.target.value);}})]}),editDes&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"des\",children:\"Bio Description:\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"des\",value:newDes,onChange:function onChange(e){return setNewDes(e.target.value);}})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSave,children:\"Save\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"bioBody\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"bioImg\",src:pic}),/*#__PURE__*/_jsx(\"span\",{children:des}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleEditPic,children:\"Edit Client Photo\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleEditDes,children:\"Edit Bio Description\"})]})]})})]});}","map":{"version":3,"names":["React","useState","useEffect","banner_img","Biography","data","setData","pic","setPic","des","setDes","loading","setLoading","error","setError","editDes","setEditDes","editPic","setEditPic","newDes","setNewDes","newPic","setNewPic","fetch","then","res","json","bio_des","client_photo","catch","console","finally","handleEditDes","handleEditPic","handleSave","method","headers","body","JSON","stringify","e","target","value"],"sources":["C:/Users/rapha/Documents/GitHub/SamuelBrettWilliamsWeb/frontend/src/pages/Biography.js"],"sourcesContent":["import React from 'react'\r\nimport { useState, useEffect } from 'react'\r\nimport '../styles/Biography.css'\r\nimport banner_img from '../assets/biography_background.jpeg'\r\nimport '../styles/Banner.css'\r\n\r\nexport default function Biography() {\r\n\r\n  const [data, setData] = useState(null);\r\n  const [pic, setPic] = useState();\r\n  const [des, setDes] = useState();\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [editDes, setEditDes] = useState(false);\r\n  const [editPic, setEditPic] = useState(false);\r\n  const [newDes, setNewDes] = useState('');\r\n  const [newPic, setNewPic] = useState('');\r\n\r\n  useEffect(() => {\r\n    fetch('http://localhost:3000/api/biopage')\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        setDes(data[0].bio_des);\r\n        setPic(data[0].client_photo);\r\n      })\r\n      .catch(error => {\r\n        console.error(\"Error fetching data: \", error);\r\n        setError(error);\r\n      })\r\n      .finally(() => {\r\n        setLoading(false);\r\n      })\r\n  }, [])\r\n\r\n  const handleEditDes = () => {\r\n    setEditDes(true);\r\n    setNewDes(des);\r\n  };\r\n\r\n  const handleEditPic = () => {\r\n    setEditPic(true);\r\n    setNewPic(pic);\r\n  };\r\n\r\n  const handleSave = () => {\r\n    fetch('http://localhost:3000/api/biopage', {\r\n      method: 'PUT',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ bio_des: newDes, client_photo: newPic }),\r\n    })\r\n      .then(() => {\r\n        setDes(newDes);\r\n        setPic(newPic);\r\n        setEditDes(false);\r\n        setEditPic(false);\r\n      })\r\n      .catch((error) => {\r\n        console.error('Error updating bio_des/client_photo: ', error);\r\n      });\r\n  };\r\n\r\n  if (loading) return <div className=\"page\">Loading...</div>;\r\n  if (error) return <div className=\"page\">Error!</div>;\r\n\r\n  return (\r\n    <>\r\n      <div>\r\n        <img className=\"bannerImg\" src={banner_img} />\r\n        <div className=\"banner\">BIOGRAPHY</div>\r\n      </div>\r\n      <div className=\"page\">\r\n        {editPic || editDes ? (\r\n          <div className=\"bioBody\">\r\n            {editPic && (\r\n              <div>\r\n                <label htmlFor=\"pic\">Client Photo URL:</label>\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"pic\"\r\n                  value={newPic}\r\n                  onChange={(e) => setNewPic(e.target.value)}\r\n                />\r\n              </div>\r\n            )}\r\n            {editDes && (\r\n              <div>\r\n                <label htmlFor=\"des\">Bio Description:</label>\r\n                <textarea\r\n                  id=\"des\"\r\n                  value={newDes}\r\n                  onChange={(e) => setNewDes(e.target.value)}\r\n                ></textarea>\r\n              </div>\r\n            )}\r\n            <button onClick={handleSave}>Save</button>\r\n          </div>\r\n        ) : (\r\n          <div className=\"bioBody\">\r\n            <img className=\"bioImg\" src={pic} />\r\n            <span>{des}</span>\r\n            <div>\r\n              <button onClick={handleEditPic}>Edit Client Photo</button>\r\n              <button onClick={handleEditDes}>Edit Bio Description</button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}