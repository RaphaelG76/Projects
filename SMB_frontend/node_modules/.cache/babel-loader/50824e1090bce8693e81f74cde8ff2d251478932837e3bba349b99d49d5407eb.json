{"ast":null,"code":"import _slicedToArray from\"C:/Users/rapha/Documents/GitHub/SamuelBrettWilliamsWeb/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faXmark}from'@fortawesome/free-solid-svg-icons';import'../styles/Photo.css';import Authenticate from'../components/Authenticate.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Photo(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),trigger=_useState2[0],setTrigger=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showConfirm=_useState4[0],setShowConfirm=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),authenticated=_useState6[0],setAuthenticated=_useState6[1];var toggleTrigger=function toggleTrigger(){setTrigger(!trigger);};var handleImgClick=function handleImgClick(){setTrigger(true);};function handleDelete(photoID){fetch(\"http://localhost:3000/api/delete/photo?id=\".concat(photoID)).then(function(response){return response.json();}).then(function(data){window.location.replace(\"http://localhost:3000/#/\".concat(props.type,\"s\"));return alert(\"Photo successfully deleted. Change can be viewed on the \".concat(props.type,\"'s detail page.\"));}).catch(function(error){console.error(error);return alert('Error: Could not delete photo!');});};function handleConfirm(photoID){setShowConfirm(false);handleDelete(photoID);}return/*#__PURE__*/_jsxs(\"div\",{className:\"photo\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"imgContainer-photo\",children:/*#__PURE__*/_jsx(\"img\",{src:props.photo,onClick:function onClick(){return handleImgClick();}})}),trigger?/*#__PURE__*/_jsx(\"div\",{className:\"popup\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-inner-photo\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"close-btn\",onClick:function onClick(){return toggleTrigger();},children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{className:\"x-button\",icon:faXmark}),\" \"]}),/*#__PURE__*/_jsx(\"img\",{src:props.photo})]})}):'',/*#__PURE__*/_jsx(Authenticate,{setAuthen:setAuthenticated}),authenticated?/*#__PURE__*/_jsxs(\"div\",{className:\"photo-delete\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"delete-photo\",onClick:function onClick(){return setShowConfirm(true);},children:\"Delete\"}),showConfirm&&/*#__PURE__*/_jsx(\"div\",{className:\"popup\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-inner-upcomingAdd\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"popup-header\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Are you sure you want to delete this photo?\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-deleteFeature\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"confirm-buttons\",onClick:function onClick(){return handleConfirm(props.id);},children:\"Yes\"}),/*#__PURE__*/_jsx(\"button\",{className:\"confirm-buttons\",onClick:function onClick(){return setShowConfirm(false);},children:\"No\"})]})})]})})]}):null]});}export default Photo;","map":{"version":3,"names":["React","useState","FontAwesomeIcon","faXmark","Authenticate","Photo","props","trigger","setTrigger","showConfirm","setShowConfirm","authenticated","setAuthenticated","toggleTrigger","handleImgClick","handleDelete","photoID","fetch","then","response","json","data","window","location","replace","type","alert","catch","error","console","handleConfirm","photo","id"],"sources":["C:/Users/rapha/Documents/GitHub/SamuelBrettWilliamsWeb/frontend/src/components/Photo.js"],"sourcesContent":["import React, { useState } from 'react'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faXmark } from '@fortawesome/free-solid-svg-icons'\r\nimport '../styles/Photo.css';\r\nimport Authenticate from '../components/Authenticate.js';\r\n\r\nfunction Photo(props) {\r\n  const [trigger, setTrigger] = useState(false);\r\n  const [showConfirm, setShowConfirm] = useState(false);\r\n  const [authenticated, setAuthenticated] = useState(false);\r\n\r\n  const toggleTrigger = () => {\r\n    setTrigger(!trigger);\r\n  }\r\n\r\n  const handleImgClick = () => {\r\n    setTrigger(true);\r\n  }\r\n\r\n  function handleDelete(photoID) {\r\n    fetch(`http://localhost:3000/api/delete/photo?id=${photoID}`)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      window.location.replace(`http://localhost:3000/#/${props.type}s`);\r\n      return alert(`Photo successfully deleted. Change can be viewed on the ${props.type}'s detail page.`)\r\n    })\r\n    .catch(error => {\r\n      console.error(error);\r\n      return alert('Error: Could not delete photo!');\r\n    });\r\n  };\r\n\r\n  function handleConfirm(photoID) {\r\n    setShowConfirm(false);\r\n    handleDelete(photoID);\r\n  }\r\n\r\n  return (\r\n    <div className='photo'>\r\n      <div className='imgContainer-photo'>\r\n        <img src={props.photo} onClick = {() => handleImgClick()}/>\r\n      </div>\r\n      {trigger ? (\r\n        <div className = \"popup\">\r\n          <div className = \"popup-inner-photo\">\r\n              <button className = \"close-btn\" onClick ={() => toggleTrigger()} >{<FontAwesomeIcon className='x-button' icon={faXmark} />} </button>\r\n              <img src={props.photo} />\r\n          </div>\r\n        </div>\r\n      ) : ('')}\r\n\r\n      <Authenticate setAuthen={setAuthenticated}/>\r\n      {authenticated ? (\r\n        <div className='photo-delete'>\r\n          <button className=\"delete-photo\" onClick={() => setShowConfirm(true)}>Delete</button>\r\n          {showConfirm && (\r\n            <div className = \"popup\">\r\n              <div className = \"popup-inner-upcomingAdd\">\r\n                <div className=\"popup-header\">\r\n                  <h2>Are you sure you want to delete this photo?</h2>\r\n                </div>\r\n                <div className=\"popup-content\">\r\n                  <div className=\"popup-deleteFeature\">\r\n                    <button className=\"confirm-buttons\" onClick={() => handleConfirm(props.id)}>Yes</button>\r\n                    <button className=\"confirm-buttons\" onClick={() => setShowConfirm(false)}>No</button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      ) : (null)}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Photo"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}