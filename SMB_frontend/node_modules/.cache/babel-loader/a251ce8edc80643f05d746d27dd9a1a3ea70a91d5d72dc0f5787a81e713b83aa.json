{"ast":null,"code":"import _slicedToArray from\"C:/Users/rapha/Documents/GitHub/SamuelBrettWilliamsWeb/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import'../styles/Project.css';import blank from'../assets/blank.jpg';import play from'../assets/pbutton3.png';import Authenticate from'./Authenticate.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Project(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),authenticated=_useState2[0],setAuthenticated=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showConfirm=_useState4[0],setShowConfirm=_useState4[1];function popupBtn(){props.setButtonPopup(true);fetch(\"/api/video/featured/film?title=\".concat(props.title)).then(function(response){return response.json();}).then(function(data){props.setUrl(data.video);}).catch(function(error){console.error('Error:',error);});}var handleDelete=function handleDelete(){fetch(\"/api/feature/delete/film?id=\".concat(props.id)).then(function(response){return response.json();}).catch(function(error){console.error(error);return alert('Error: Could not delete feature!');});window.location.reload();};var handleConfirm=function handleConfirm(){setShowConfirm(false);handleDelete();};var handleCancel=function handleCancel(){setShowConfirm(false);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Authenticate,{setAuthen:setAuthenticated}),/*#__PURE__*/_jsxs(\"div\",{className:\"imgContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"img-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"playButton-container\",children:/*#__PURE__*/_jsx(\"button\",{className:\"playButton\",onClick:function onClick(){return popupBtn();}})}),/*#__PURE__*/_jsx(\"img\",{className:\"blank\",src:props.photo})]}),/*#__PURE__*/_jsx(\"span\",{className:\"caption\",children:props.title.toUpperCase()}),authenticated?/*#__PURE__*/_jsxs(\"div\",{className:\"delete-button\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"delete-feature\",onClick:function onClick(){return setShowConfirm(true);},children:\"Delete\"}),showConfirm&&/*#__PURE__*/_jsx(\"div\",{className:\"popup\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-inner-upcomingAdd\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"popup-header\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Are you sure you want to delete this feature?\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-deleteFeature\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"confirm-buttons\",onClick:handleConfirm,children:\"Yes\"}),/*#__PURE__*/_jsx(\"button\",{className:\"confirm-buttons\",onClick:handleCancel,children:\"No\"})]})})]})})]}):null]})]});}export default Project;","map":{"version":3,"names":["React","useState","blank","play","Authenticate","Project","props","authenticated","setAuthenticated","showConfirm","setShowConfirm","popupBtn","setButtonPopup","fetch","title","then","response","json","data","setUrl","video","catch","error","console","handleDelete","id","alert","window","location","reload","handleConfirm","handleCancel","photo","toUpperCase"],"sources":["C:/Users/rapha/Documents/GitHub/SamuelBrettWilliamsWeb/frontend/src/components/Project.js"],"sourcesContent":["import React, { useState } from 'react'\r\nimport '../styles/Project.css'\r\nimport blank from '../assets/blank.jpg'\r\nimport play from '../assets/pbutton3.png'\r\nimport Authenticate from './Authenticate.js';\r\n\r\nfunction Project(props) {\r\n  const [authenticated, setAuthenticated] = useState(false);\r\n  const [showConfirm, setShowConfirm] = useState(false);\r\n\r\n  function popupBtn() {\r\n      props.setButtonPopup(true);\r\n\r\n      fetch(`/api/video/featured/film?title=${props.title}`)\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        props.setUrl(data.video);\r\n      })\r\n      .catch(error => {\r\n        console.error('Error:', error);\r\n      });\r\n  }\r\n\r\n  const handleDelete = () => {\r\n    fetch(`/api/feature/delete/film?id=${props.id}`)\r\n      .then(response => response.json())\r\n      .catch(error => {\r\n        console.error(error);\r\n        return alert('Error: Could not delete feature!');\r\n      });\r\n    window.location.reload();\r\n  };\r\n\r\n  const handleConfirm = () => {\r\n    setShowConfirm(false);\r\n    handleDelete();\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setShowConfirm(false);\r\n  };\r\n\r\n  return (\r\n    <><Authenticate setAuthen={setAuthenticated}/>\r\n    <div className=\"imgContainer\">\r\n      <div className='img-container'>\r\n        <div className='playButton-container'>\r\n          <button className=\"playButton\" onClick={() => popupBtn()}></button>\r\n        </div>\r\n        <img className='blank' src={props.photo} />\r\n      </div>\r\n        <span className='caption'>{props.title.toUpperCase()}</span>\r\n        {authenticated ? (\r\n          <div className='delete-button'>\r\n            <button className=\"delete-feature\" onClick={() => setShowConfirm(true)}>Delete</button>\r\n            {showConfirm && (\r\n              <div className = \"popup\">\r\n                <div className = \"popup-inner-upcomingAdd\">\r\n                  <div className=\"popup-header\">\r\n                    <h2>Are you sure you want to delete this feature?</h2>\r\n                  </div>\r\n                  <div className=\"popup-content\">\r\n                    <div className=\"popup-deleteFeature\">\r\n                      <button className=\"confirm-buttons\" onClick={handleConfirm}>Yes</button>\r\n                      <button className=\"confirm-buttons\" onClick={handleCancel}>No</button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        ) : (null)}\r\n    </div></>\r\n  )\r\n}\r\n\r\nexport default Project;"],"mappings":"qJAAA,MAAOA,MAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,uBAAuB,CAC9B,MAAOC,MAAK,KAAM,qBAAqB,CACvC,MAAOC,KAAI,KAAM,wBAAwB,CACzC,MAAOC,aAAY,KAAM,mBAAmB,CAAC,6IAE7C,QAASC,QAAO,CAACC,KAAK,CAAE,CACtB,cAA0CL,QAAQ,CAAC,KAAK,CAAC,wCAAlDM,aAAa,eAAEC,gBAAgB,eACtC,eAAsCP,QAAQ,CAAC,KAAK,CAAC,yCAA9CQ,WAAW,eAAEC,cAAc,eAElC,QAASC,SAAQ,EAAG,CAChBL,KAAK,CAACM,cAAc,CAAC,IAAI,CAAC,CAE1BC,KAAK,0CAAmCP,KAAK,CAACQ,KAAK,EAAG,CACrDC,IAAI,CAAC,SAAAC,QAAQ,QAAIA,SAAQ,CAACC,IAAI,EAAE,GAAC,CACjCF,IAAI,CAAC,SAAAG,IAAI,CAAI,CACZZ,KAAK,CAACa,MAAM,CAACD,IAAI,CAACE,KAAK,CAAC,CAC1B,CAAC,CAAC,CACDC,KAAK,CAAC,SAAAC,KAAK,CAAI,CACdC,OAAO,CAACD,KAAK,CAAC,QAAQ,CAAEA,KAAK,CAAC,CAChC,CAAC,CAAC,CACN,CAEA,GAAME,aAAY,CAAG,QAAfA,aAAY,EAAS,CACzBX,KAAK,uCAAgCP,KAAK,CAACmB,EAAE,EAAG,CAC7CV,IAAI,CAAC,SAAAC,QAAQ,QAAIA,SAAQ,CAACC,IAAI,EAAE,GAAC,CACjCI,KAAK,CAAC,SAAAC,KAAK,CAAI,CACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC,CACpB,MAAOI,MAAK,CAAC,kCAAkC,CAAC,CAClD,CAAC,CAAC,CACJC,MAAM,CAACC,QAAQ,CAACC,MAAM,EAAE,CAC1B,CAAC,CAED,GAAMC,cAAa,CAAG,QAAhBA,cAAa,EAAS,CAC1BpB,cAAc,CAAC,KAAK,CAAC,CACrBc,YAAY,EAAE,CAChB,CAAC,CAED,GAAMO,aAAY,CAAG,QAAfA,aAAY,EAAS,CACzBrB,cAAc,CAAC,KAAK,CAAC,CACvB,CAAC,CAED,mBACE,wCAAE,KAAC,YAAY,EAAC,SAAS,CAAEF,gBAAiB,EAAE,cAC9C,aAAK,SAAS,CAAC,cAAc,wBAC3B,aAAK,SAAS,CAAC,eAAe,wBAC5B,YAAK,SAAS,CAAC,sBAAsB,uBACnC,eAAQ,SAAS,CAAC,YAAY,CAAC,OAAO,CAAE,yBAAMG,SAAQ,EAAE,EAAC,EAAU,EAC/D,cACN,YAAK,SAAS,CAAC,OAAO,CAAC,GAAG,CAAEL,KAAK,CAAC0B,KAAM,EAAG,GACvC,cACJ,aAAM,SAAS,CAAC,SAAS,UAAE1B,KAAK,CAACQ,KAAK,CAACmB,WAAW,EAAE,EAAQ,CAC3D1B,aAAa,cACZ,aAAK,SAAS,CAAC,eAAe,wBAC5B,eAAQ,SAAS,CAAC,gBAAgB,CAAC,OAAO,CAAE,yBAAMG,eAAc,CAAC,IAAI,CAAC,EAAC,UAAC,QAAM,EAAS,CACtFD,WAAW,eACV,YAAK,SAAS,CAAG,OAAO,uBACtB,aAAK,SAAS,CAAG,yBAAyB,wBACxC,YAAK,SAAS,CAAC,cAAc,uBAC3B,oBAAI,+CAA6C,EAAK,EAClD,cACN,YAAK,SAAS,CAAC,eAAe,uBAC5B,aAAK,SAAS,CAAC,qBAAqB,wBAClC,eAAQ,SAAS,CAAC,iBAAiB,CAAC,OAAO,CAAEqB,aAAc,UAAC,KAAG,EAAS,cACxE,eAAQ,SAAS,CAAC,iBAAiB,CAAC,OAAO,CAAEC,YAAa,UAAC,IAAE,EAAS,GAClE,EACF,GACF,EAET,GACG,CACH,IAAK,GACR,GAAG,CAEb,CAEA,cAAe1B,QAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}