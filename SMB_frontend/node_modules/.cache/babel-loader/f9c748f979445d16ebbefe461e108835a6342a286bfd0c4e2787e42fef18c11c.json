{"ast":null,"code":"import _slicedToArray from\"C:/Users/rapha/Documents/GitHub/SamuelBrettWilliamsWeb/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faMagnifyingGlass,faXmark}from'@fortawesome/free-solid-svg-icons';import'../styles/SearchBar.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SearchBar(props){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),query=_useState4[0],setQuery=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];var handleChange=function handleChange(event){setQuery(event.target.value);};var handleSubmit=function handleSubmit(event){event.preventDefault();fetch(\"http://localhost:3000/api/\".concat(props.name,\"?title=\").concat(query)).then(function(response){if(response.ok){return response.json();}throw response;}).then(function(data){props.setContent(data.reverse());props.setActiveProp(null);setData(data.reverse());}).catch(function(error){console.error(\"Error fetching data: \",error);setError(error);}).finally(function(){setLoading(false);});if(loading)return/*#__PURE__*/_jsx(\"div\",{className:\"page\",children:\"Loading...\"});if(error)return/*#__PURE__*/_jsx(\"div\",{className:\"page\",children:\"Error!\"});};var clearInput=function clearInput(){props.showAll();props.setActiveProp(\"All\");setQuery(\"\");setData(null);};return/*#__PURE__*/_jsx(\"div\",{className:\"search\",children:/*#__PURE__*/_jsx(\"div\",{className:\"searchInput\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search\",value:query,onChange:handleChange}),/*#__PURE__*/_jsx(\"div\",{className:\"searchIcon\",children:data===null?/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faMagnifyingGlass,id:\"clickBtn\",onClick:handleSubmit,width:\"25\",size:\"1x\"}):/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faXmark,id:\"clearBtn\",onClick:clearInput,size:\"1x\"})})]})})});}export default SearchBar;","map":{"version":3,"names":["React","useState","FontAwesomeIcon","faMagnifyingGlass","faXmark","SearchBar","props","data","setData","query","setQuery","loading","setLoading","error","setError","handleChange","event","target","value","handleSubmit","preventDefault","fetch","name","then","response","ok","json","setContent","reverse","setActiveProp","catch","console","finally","clearInput","showAll"],"sources":["C:/Users/rapha/Documents/GitHub/SamuelBrettWilliamsWeb/frontend/src/components/SearchBar.js"],"sourcesContent":["import React, {useState} from \"react\";\r\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\r\nimport {faMagnifyingGlass, faXmark} from '@fortawesome/free-solid-svg-icons';\r\nimport '../styles/SearchBar.css';\r\n\r\nfunction SearchBar(props){\r\n    const [data, setData] = useState(null);\r\n    const [query, setQuery] = useState('');\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n\r\n    const handleChange = event => {\r\n        setQuery(event.target.value);\r\n    }\r\n    \r\n    const handleSubmit = event => {\r\n        event.preventDefault();\r\n            fetch(`http://localhost:3000/api/${props.name}?title=${query}`)\r\n              .then(response => {\r\n                if (response.ok) {\r\n                  return response.json()\r\n                }\r\n                throw response;\r\n              })\r\n              .then(data => {\r\n                props.setContent(data.reverse());\r\n                props.setActiveProp(null);\r\n                setData(data.reverse());\r\n              })\r\n              .catch(error => {\r\n                console.error(\"Error fetching data: \", error);\r\n                setError(error);\r\n              })\r\n              .finally(() => {\r\n                setLoading(false);\r\n              })\r\n        \r\n          if (loading) return <div className=\"page\">Loading...</div>;\r\n          if (error) return <div className=\"page\">Error!</div>;\r\n      };\r\n\r\n    const clearInput = () => {\r\n        props.showAll();\r\n        props.setActiveProp(\"All\")\r\n        setQuery(\"\");\r\n        setData(null);\r\n    }\r\n\r\n    return(\r\n        <div className=\"search\">\r\n            <div className=\"searchInput\">\r\n                <form onSubmit={handleSubmit}>\r\n                    <input \r\n                        type=\"text\" \r\n                        placeholder= \"Search\"\r\n                        value = {query} \r\n                        onChange={handleChange}\r\n                    />\r\n                    <div className = \"searchIcon\">\r\n                    {\r\n                        data === null ? (\r\n                            <FontAwesomeIcon icon={faMagnifyingGlass} id=\"clickBtn\" onClick={handleSubmit} width=\"25\" size=\"1x\"/>\r\n                        ):(\r\n                            <FontAwesomeIcon icon={faXmark} id=\"clearBtn\" onClick={clearInput} size=\"1x\"/> \r\n                    )}\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SearchBar;"],"mappings":"qJAAA,MAAOA,MAAK,EAAGC,QAAQ,KAAO,OAAO,CACrC,OAAQC,eAAe,KAAO,gCAAgC,CAC9D,OAAQC,iBAAiB,CAAEC,OAAO,KAAO,mCAAmC,CAC5E,MAAO,yBAAyB,CAAC,wFAEjC,QAASC,UAAS,CAACC,KAAK,CAAC,CACrB,cAAwBL,QAAQ,CAAC,IAAI,CAAC,wCAA/BM,IAAI,eAAEC,OAAO,eACpB,eAA0BP,QAAQ,CAAC,EAAE,CAAC,yCAA/BQ,KAAK,eAAEC,QAAQ,eACtB,eAA8BT,QAAQ,CAAC,IAAI,CAAC,yCAArCU,OAAO,eAAEC,UAAU,eAC1B,eAA0BX,QAAQ,CAAC,IAAI,CAAC,yCAAjCY,KAAK,eAAEC,QAAQ,eAEtB,GAAMC,aAAY,CAAG,QAAfA,aAAY,CAAGC,KAAK,CAAI,CAC1BN,QAAQ,CAACM,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CAChC,CAAC,CAED,GAAMC,aAAY,CAAG,QAAfA,aAAY,CAAGH,KAAK,CAAI,CAC1BA,KAAK,CAACI,cAAc,EAAE,CAClBC,KAAK,qCAA8Bf,KAAK,CAACgB,IAAI,mBAAUb,KAAK,EAAG,CAC5Dc,IAAI,CAAC,SAAAC,QAAQ,CAAI,CAChB,GAAIA,QAAQ,CAACC,EAAE,CAAE,CACf,MAAOD,SAAQ,CAACE,IAAI,EAAE,CACxB,CACA,KAAMF,SAAQ,CAChB,CAAC,CAAC,CACDD,IAAI,CAAC,SAAAhB,IAAI,CAAI,CACZD,KAAK,CAACqB,UAAU,CAACpB,IAAI,CAACqB,OAAO,EAAE,CAAC,CAChCtB,KAAK,CAACuB,aAAa,CAAC,IAAI,CAAC,CACzBrB,OAAO,CAACD,IAAI,CAACqB,OAAO,EAAE,CAAC,CACzB,CAAC,CAAC,CACDE,KAAK,CAAC,SAAAjB,KAAK,CAAI,CACdkB,OAAO,CAAClB,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CAC7CC,QAAQ,CAACD,KAAK,CAAC,CACjB,CAAC,CAAC,CACDmB,OAAO,CAAC,UAAM,CACbpB,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAAC,CAEN,GAAID,OAAO,CAAE,mBAAO,YAAK,SAAS,CAAC,MAAM,UAAC,YAAU,EAAM,CAC1D,GAAIE,KAAK,CAAE,mBAAO,YAAK,SAAS,CAAC,MAAM,UAAC,QAAM,EAAM,CACxD,CAAC,CAEH,GAAMoB,WAAU,CAAG,QAAbA,WAAU,EAAS,CACrB3B,KAAK,CAAC4B,OAAO,EAAE,CACf5B,KAAK,CAACuB,aAAa,CAAC,KAAK,CAAC,CAC1BnB,QAAQ,CAAC,EAAE,CAAC,CACZF,OAAO,CAAC,IAAI,CAAC,CACjB,CAAC,CAED,mBACI,YAAK,SAAS,CAAC,QAAQ,uBACnB,YAAK,SAAS,CAAC,aAAa,uBACxB,cAAM,QAAQ,CAAEW,YAAa,wBACzB,cACI,IAAI,CAAC,MAAM,CACX,WAAW,CAAE,QAAQ,CACrB,KAAK,CAAIV,KAAM,CACf,QAAQ,CAAEM,YAAa,EACzB,cACF,YAAK,SAAS,CAAG,YAAY,UAEzBR,IAAI,GAAK,IAAI,cACT,KAAC,eAAe,EAAC,IAAI,CAAEJ,iBAAkB,CAAC,EAAE,CAAC,UAAU,CAAC,OAAO,CAAEgB,YAAa,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,cAErG,KAAC,eAAe,EAAC,IAAI,CAAEf,OAAQ,CAAC,EAAE,CAAC,UAAU,CAAC,OAAO,CAAE6B,UAAW,CAAC,IAAI,CAAC,IAAI,EACnF,EACK,GACH,EACL,EACJ,CAEd,CAEA,cAAe5B,UAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}