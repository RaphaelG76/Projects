{"ast":null,"code":"import _slicedToArray from\"C:/Users/rapha/Documents/GitHub/SamuelBrettWilliamsWeb/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import'../styles/PlayDetails.css';import Authenticate from'../components/Authenticate.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function BuyLink(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),authenticated=_useState2[0],setAuthenticated=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showConfirmBuyLink=_useState4[0],setShowConfirmBuyLink=_useState4[1];function handleBuyLinkConfirm(buyLinkId){setShowConfirmBuyLink(false);handleBuyLinkDelete(buyLinkId);};function handleBuyLinkDelete(buyLinkId){fetch(\"/api/delete/buyLink?id=\".concat(buyLinkId)).then(function(response){return response.json();}).then(function(data){window.location.replace(\"/#/\".concat(props.type,\"s\"));return alert(\"Buy link successfully deleted. Change can be viewed on the \".concat(props.type,\"'s detail page.\"));}).catch(function(error){console.error(error);return alert('Error: Could not delete buyLink!');});};return/*#__PURE__*/_jsxs(\"div\",{className:\"playlink\",children:[/*#__PURE__*/_jsx(\"a\",{href:props.link,children:/*#__PURE__*/_jsx(\"img\",{src:props.photo})}),/*#__PURE__*/_jsx(Authenticate,{setAuthen:setAuthenticated}),authenticated?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"delete-buyLink\",onClick:function onClick(){return setShowConfirmBuyLink(true);},children:\"Delete\"}),showConfirmBuyLink&&/*#__PURE__*/_jsx(\"div\",{className:\"popup\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-inner-upcomingAdd\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"popup-header\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Are you sure you want to delete this buy link?\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-deleteFeature\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"confirm-buttons\",onClick:function onClick(){return handleBuyLinkConfirm(props.id);},children:\"Yes\"}),/*#__PURE__*/_jsx(\"button\",{className:\"confirm-buttons\",onClick:function onClick(){return setShowConfirmBuyLink(false);},children:\"No\"})]})})]})})]}):null]});}export default BuyLink;","map":{"version":3,"names":["React","useState","Authenticate","BuyLink","props","authenticated","setAuthenticated","showConfirmBuyLink","setShowConfirmBuyLink","handleBuyLinkConfirm","buyLinkId","handleBuyLinkDelete","fetch","then","response","json","data","window","location","replace","type","alert","catch","error","console","link","photo","id"],"sources":["C:/Users/rapha/Documents/GitHub/SamuelBrettWilliamsWeb/frontend/src/components/BuyLink.js"],"sourcesContent":["import React, { useState } from 'react'\r\nimport '../styles/PlayDetails.css'\r\nimport Authenticate from '../components/Authenticate.js';\r\n\r\nfunction BuyLink(props) {\r\n    const [authenticated, setAuthenticated] = useState(false);\r\n    const [showConfirmBuyLink, setShowConfirmBuyLink] = useState(false);\r\n\r\n    function handleBuyLinkConfirm(buyLinkId) {\r\n        setShowConfirmBuyLink(false);\r\n        handleBuyLinkDelete(buyLinkId);\r\n    };\r\n\r\n    function handleBuyLinkDelete(buyLinkId) {\r\n    fetch(`/api/delete/buyLink?id=${buyLinkId}`)\r\n        .then(response => response.json())\r\n        .then(data => {\r\n        window.location.replace(`/#/${props.type}s`);\r\n        return alert(`Buy link successfully deleted. Change can be viewed on the ${props.type}'s detail page.`)\r\n        })\r\n        .catch(error => {\r\n        console.error(error);\r\n        return alert('Error: Could not delete buyLink!');\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div className='playlink'>\r\n        <a href={props.link}>\r\n          <img src={props.photo} />\r\n        </a>\r\n        <Authenticate setAuthen={setAuthenticated}/>\r\n        {authenticated ? (\r\n          <div>\r\n            <button className=\"delete-buyLink\" onClick={() => setShowConfirmBuyLink(true)}>Delete</button>\r\n            {showConfirmBuyLink && (\r\n              <div className = \"popup\">\r\n                <div className = \"popup-inner-upcomingAdd\">\r\n                  <div className=\"popup-header\">\r\n                    <h2>Are you sure you want to delete this buy link?</h2>\r\n                  </div>\r\n                  <div className=\"popup-content\">\r\n                    <div className=\"popup-deleteFeature\">\r\n                      <button className=\"confirm-buttons\" onClick={() => handleBuyLinkConfirm(props.id)}>Yes</button>\r\n                      <button className=\"confirm-buttons\" onClick={() => setShowConfirmBuyLink(false)}>No</button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        ) : (null)}\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default BuyLink;"],"mappings":"qJAAA,MAAOA,MAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,2BAA2B,CAClC,MAAOC,aAAY,KAAM,+BAA+B,CAAC,wFAEzD,QAASC,QAAO,CAACC,KAAK,CAAE,CACpB,cAA0CH,QAAQ,CAAC,KAAK,CAAC,wCAAlDI,aAAa,eAAEC,gBAAgB,eACtC,eAAoDL,QAAQ,CAAC,KAAK,CAAC,yCAA5DM,kBAAkB,eAAEC,qBAAqB,eAEhD,QAASC,qBAAoB,CAACC,SAAS,CAAE,CACrCF,qBAAqB,CAAC,KAAK,CAAC,CAC5BG,mBAAmB,CAACD,SAAS,CAAC,CAClC,CAAC,CAED,QAASC,oBAAmB,CAACD,SAAS,CAAE,CACxCE,KAAK,kCAA2BF,SAAS,EAAG,CACvCG,IAAI,CAAC,SAAAC,QAAQ,QAAIA,SAAQ,CAACC,IAAI,EAAE,GAAC,CACjCF,IAAI,CAAC,SAAAG,IAAI,CAAI,CACdC,MAAM,CAACC,QAAQ,CAACC,OAAO,cAAOf,KAAK,CAACgB,IAAI,MAAI,CAC5C,MAAOC,MAAK,sEAA+DjB,KAAK,CAACgB,IAAI,oBAAkB,CACvG,CAAC,CAAC,CACDE,KAAK,CAAC,SAAAC,KAAK,CAAI,CAChBC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC,CACpB,MAAOF,MAAK,CAAC,kCAAkC,CAAC,CAChD,CAAC,CAAC,CACN,CAAC,CAED,mBACI,aAAK,SAAS,CAAC,UAAU,wBACzB,UAAG,IAAI,CAAEjB,KAAK,CAACqB,IAAK,uBAClB,YAAK,GAAG,CAAErB,KAAK,CAACsB,KAAM,EAAG,EACvB,cACJ,KAAC,YAAY,EAAC,SAAS,CAAEpB,gBAAiB,EAAE,CAC3CD,aAAa,cACZ,oCACE,eAAQ,SAAS,CAAC,gBAAgB,CAAC,OAAO,CAAE,yBAAMG,sBAAqB,CAAC,IAAI,CAAC,EAAC,UAAC,QAAM,EAAS,CAC7FD,kBAAkB,eACjB,YAAK,SAAS,CAAG,OAAO,uBACtB,aAAK,SAAS,CAAG,yBAAyB,wBACxC,YAAK,SAAS,CAAC,cAAc,uBAC3B,oBAAI,gDAA8C,EAAK,EACnD,cACN,YAAK,SAAS,CAAC,eAAe,uBAC5B,aAAK,SAAS,CAAC,qBAAqB,wBAClC,eAAQ,SAAS,CAAC,iBAAiB,CAAC,OAAO,CAAE,yBAAME,qBAAoB,CAACL,KAAK,CAACuB,EAAE,CAAC,EAAC,UAAC,KAAG,EAAS,cAC/F,eAAQ,SAAS,CAAC,iBAAiB,CAAC,OAAO,CAAE,yBAAMnB,sBAAqB,CAAC,KAAK,CAAC,EAAC,UAAC,IAAE,EAAS,GACxF,EACF,GACF,EAET,GACG,CACH,IAAK,GACN,CAEZ,CAEA,cAAeL,QAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}